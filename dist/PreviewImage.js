(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["PreviewImage"],{

/***/ "./src/component/Dialog/ConfirmDialog.tsx":
/*!************************************************!*\
  !*** ./src/component/Dialog/ConfirmDialog.tsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core/styles */ \"./node_modules/@material-ui/core/esm/styles/index.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/index.js\");\n/* harmony import */ var _material_ui_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/icons */ \"./node_modules/@material-ui/icons/esm/index.js\");\n/* harmony import */ var _material_ui_core_colors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core/colors */ \"./node_modules/@material-ui/core/esm/colors/index.js\");\n/* harmony import */ var _AppComponent_AppButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../AppComponent/AppButton */ \"./src/AppComponent/AppButton.tsx\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst useStyles = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__[\"makeStyles\"])(theme => ({\r\n    closeButton: {\r\n        position: \"absolute\",\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500]\r\n    },\r\n    avatar: {\r\n        width: \"auto\",\r\n        height: \"auto\",\r\n        padding: 12,\r\n        marginBottom: 8\r\n    },\r\n    deleteIcon: { fontSize: 56, color: \"white\" }\r\n}));\r\nconst ConfirmDialog = props => {\r\n    const classes = useStyles();\r\n    const { open = false, onClose, children, title, type, headIcon: HeadIcon = _material_ui_icons__WEBPACK_IMPORTED_MODULE_3__[\"Delete\"], headIconColor = _material_ui_core_colors__WEBPACK_IMPORTED_MODULE_4__[\"red\"], maxWidth = \"xs\", dividers = false, submitButtonColor = _material_ui_core_colors__WEBPACK_IMPORTED_MODULE_4__[\"red\"], submitText = \"ลบ\", cancelText = \"ยกเลิก\", onCancel = onClose, onSubmit, other } = props;\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Dialog\"], Object.assign({ scroll: \"body\", open: open, onClose: onClose, maxWidth: maxWidth, fullWidth: true }, other),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"DialogTitle\"], null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"IconButton\"], { className: classes.closeButton, onClick: onClose },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_3__[\"Close\"], null))),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"DialogContent\"], { dividers: dividers },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { display: \"flex\", justifyContent: \"center\" } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Avatar\"], { className: classes.avatar, style: { backgroundColor: headIconColor[500] } },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeadIcon, { className: classes.deleteIcon }))),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Typography\"], { variant: \"h6\", align: \"center\" }, title),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { display: \"flex\", justifyContent: \"center\" } }, children)),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"DialogActions\"], { style: { justifyContent: \"center\", margin: \"16px 0\" } },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], { size: \"large\", style: { marginRight: 8 }, color: \"primary\", onClick: onCancel }, cancelText),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AppComponent_AppButton__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { size: \"large\", variant: \"contained\", buttonColor: submitButtonColor, onClick: onSubmit }, submitText))));\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConfirmDialog);\r\n\n\n//# sourceURL=webpack:///./src/component/Dialog/ConfirmDialog.tsx?");

/***/ }),

/***/ "./src/component/Dialog/FullscreenImage.tsx":
/*!**************************************************!*\
  !*** ./src/component/Dialog/FullscreenImage.tsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core/styles */ \"./node_modules/@material-ui/core/esm/styles/index.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/index.js\");\n/* harmony import */ var _material_ui_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/icons */ \"./node_modules/@material-ui/icons/esm/index.js\");\n\r\n\r\n\r\n\r\nconst useStyles = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__[\"makeStyles\"])(theme => ({\r\n    closeButton: {\r\n        position: \"absolute\",\r\n        right: 0,\r\n        top: 0,\r\n        color: theme.palette.grey[500],\r\n        zIndex: 1500\r\n    }\r\n}));\r\nconst FullscreenImage = props => {\r\n    const classes = useStyles();\r\n    const { open = false, onClose, children, title, actions, maxWidth = \"xs\", fullScreen = false, dividers = false, contentStyle, other } = props;\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Dialog\"], Object.assign({ scroll: \"paper\", open: open, onClose: onClose, maxWidth: maxWidth, fullWidth: true, fullScreen: fullScreen }, other),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"DialogTitle\"], { style: { ...(!title && { backgroundColor: \"black\" }) } },\r\n            title,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"IconButton\"], { className: classes.closeButton, onClick: onClose },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_3__[\"Close\"], null))),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"DialogContent\"], { dividers: dividers, style: {\r\n                ...contentStyle,\r\n                padding: 0,\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"space-around\",\r\n                backgroundColor: \"black\"\r\n            } }, children),\r\n        actions && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"DialogActions\"], null, actions)));\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (FullscreenImage);\r\n\n\n//# sourceURL=webpack:///./src/component/Dialog/FullscreenImage.tsx?");

/***/ }),

/***/ "./src/component/Utils/PreviewImage.tsx":
/*!**********************************************!*\
  !*** ./src/component/Utils/PreviewImage.tsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_swipeable_views__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-swipeable-views */ \"./node_modules/react-swipeable-views/lib/index.js\");\n/* harmony import */ var react_swipeable_views__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_swipeable_views__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/styles */ \"./node_modules/@material-ui/styles/esm/index.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/index.js\");\n/* harmony import */ var _material_ui_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/icons */ \"./node_modules/@material-ui/icons/esm/index.js\");\n/* harmony import */ var _AppContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../AppContext */ \"./src/AppContext.tsx\");\n/* harmony import */ var _Dialog_FullscreenImage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Dialog/FullscreenImage */ \"./src/component/Dialog/FullscreenImage.tsx\");\n/* harmony import */ var _material_ui_core_colors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/core/colors */ \"./node_modules/@material-ui/core/esm/colors/index.js\");\n/* harmony import */ var _AppComponent_AppButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../AppComponent/AppButton */ \"./src/AppComponent/AppButton.tsx\");\n/* harmony import */ var _Dialog_ConfirmDialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Dialog/ConfirmDialog */ \"./src/component/Dialog/ConfirmDialog.tsx\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst useStyles = Object(_material_ui_styles__WEBPACK_IMPORTED_MODULE_2__[\"makeStyles\"])((theme) => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"space-around\",\r\n        overflow: \"hidden\",\r\n        backgroundColor: theme.palette.background.paper,\r\n        margin: \"16px 0\",\r\n    },\r\n    slider: {\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n    },\r\n    itemGrid: {\r\n        height: 300,\r\n        backgroundColor: _material_ui_core_colors__WEBPACK_IMPORTED_MODULE_7__[\"grey\"][900],\r\n        backgroundSize: \"cover\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        backgroundPosition: \"center\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n    },\r\n    item: {\r\n        maxHeight: 300,\r\n        width: \"100%\",\r\n        display: \"block\",\r\n        objectFit: \"contain\",\r\n    },\r\n}));\r\nconst PreviewImage = ({ files, editting, rawAlbum, loadBusinessForm, thisFormId, }) => {\r\n    const classes = useStyles();\r\n    const { csrf, setCsrf, _xhrPost, addSnackbar, _openFullScreen, _closeFullscreen, profileData, } = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_AppContext__WEBPACK_IMPORTED_MODULE_5__[\"AppContext\"]);\r\n    const [open, setOpen] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\r\n    const [fullscreenItem, setFullscreenItem] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(0);\r\n    const imgArr = [...(editting ? files : Array.from(files))];\r\n    const [onDeleteState, setOnDeleteState] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\r\n    function handleOpen(image) {\r\n        setOpen(true);\r\n        setFullscreenItem(image);\r\n    }\r\n    function handleClose() {\r\n        setOpen(false);\r\n    }\r\n    function onBack() {\r\n        setFullscreenItem((item) => {\r\n            if (item - 1 >= 0) {\r\n                return (item - 1) % imgArr.length;\r\n            }\r\n            else {\r\n                return (item - 1 + imgArr.length) % imgArr.length;\r\n            }\r\n        });\r\n    }\r\n    function onNext() {\r\n        setFullscreenItem((item) => (item + 1) % imgArr.length);\r\n    }\r\n    function onDeleteImage() {\r\n        setOnDeleteState(true);\r\n    }\r\n    function onCancelDelete() {\r\n        setOnDeleteState(false);\r\n    }\r\n    async function onDeletePic() {\r\n        const sendObj = {\r\n            action: \"delpic\",\r\n            formid: thisFormId,\r\n            linetoken: profileData.userId,\r\n            picpath: rawAlbum[fullscreenItem],\r\n        };\r\n        console.log(sendObj);\r\n        const res = await _xhrPost({\r\n            csrf,\r\n            url: \"formsystem\",\r\n            body: sendObj,\r\n        });\r\n        setCsrf(res.csrf);\r\n        if (res.data.status === \"success\") {\r\n            addSnackbar({ message: \"ลบรูปสำเร็จ\", variant: \"success\" });\r\n            loadBusinessForm();\r\n            onCancelDelete();\r\n            onBack();\r\n        }\r\n        else {\r\n            addSnackbar({ message: \"ลบรูปไม่สำเร็จ\", variant: \"error\" });\r\n        }\r\n    }\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { className: classes.root },\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { className: classes.slider },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_swipeable_views__WEBPACK_IMPORTED_MODULE_1___default.a, { index: fullscreenItem, className: classes.item }, imgArr.map((image, i) => (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { key: i, className: classes.itemGrid },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { className: classes.item, src: image, alt: `${i}`, onClick: () => handleOpen(i) }))))),\r\n            imgArr.length > 1 && (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"IconButton\"], { style: {\r\n                        position: \"absolute\",\r\n                        left: 0,\r\n                        top: \"calc(50% - 12px)\",\r\n                        backgroundColor: \"white\",\r\n                        opacity: 0.8,\r\n                    }, onClick: onBack },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_4__[\"ArrowBackIos\"], null)),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"IconButton\"], { style: {\r\n                        position: \"absolute\",\r\n                        right: 0,\r\n                        top: \"calc(50% - 12px)\",\r\n                        backgroundColor: \"white\",\r\n                        opacity: 0.8,\r\n                    }, onClick: onNext },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_4__[\"ArrowForwardIos\"], null)))),\r\n            rawAlbum && profileData && (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AppComponent_AppButton__WEBPACK_IMPORTED_MODULE_8__[\"default\"], { buttonColor: _material_ui_core_colors__WEBPACK_IMPORTED_MODULE_7__[\"red\"], variant: \"contained\", size: \"small\", style: {\r\n                    position: \"absolute\",\r\n                    right: 4,\r\n                    bottom: 4,\r\n                }, onClick: onDeleteImage }, \"\\u0E25\\u0E1A\\u0E23\\u0E39\\u0E1B\"))),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Dialog_FullscreenImage__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { open: open, onClose: handleClose, fullScreen: true },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { className: classes.slider, style: {\r\n                    height: \"100%\",\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    justifyContent: \"center\",\r\n                } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_swipeable_views__WEBPACK_IMPORTED_MODULE_1___default.a, { index: fullscreenItem }, imgArr.map((image, i) => (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { key: i, style: {\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        justifyContent: \"center\",\r\n                        height: \"100%\",\r\n                    } },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { style: {\r\n                            width: \"100%\",\r\n                            maxHeight: window.innerHeight - 48,\r\n                            objectFit: \"contain\",\r\n                        }, src: image, alt: `${i}` }))))),\r\n                imgArr.length > 1 && (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"IconButton\"], { style: {\r\n                            position: \"absolute\",\r\n                            left: 0,\r\n                            top: \"calc(50% - 12px)\",\r\n                            backgroundColor: \"white\",\r\n                            opacity: 0.8,\r\n                        }, onClick: onBack },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_4__[\"ArrowBackIos\"], null)),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"IconButton\"], { style: {\r\n                            position: \"absolute\",\r\n                            right: 0,\r\n                            top: \"calc(50% - 12px)\",\r\n                            backgroundColor: \"white\",\r\n                            opacity: 0.8,\r\n                        }, onClick: onNext },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_4__[\"ArrowForwardIos\"], null)))))),\r\n        rawAlbum && profileData && (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Dialog_ConfirmDialog__WEBPACK_IMPORTED_MODULE_9__[\"default\"], { type: \"delete\", open: onDeleteState, onClose: onCancelDelete, onCancel: onCancelDelete, onSubmit: onDeletePic, title: \"\\u0E04\\u0E38\\u0E13\\u0E41\\u0E19\\u0E48\\u0E43\\u0E08\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E44\\u0E21\\u0E48\\u0E27\\u0E48\\u0E32\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E08\\u0E30\\u0E25\\u0E1A\\u0E23\\u0E39\\u0E1B ?\" },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { style: { width: \"100%\" }, src: imgArr[fullscreenItem], alt: rawAlbum[fullscreenItem] })))));\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (PreviewImage);\r\n\n\n//# sourceURL=webpack:///./src/component/Utils/PreviewImage.tsx?");

/***/ })

}]);