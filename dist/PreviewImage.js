(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{131:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(60),c=a(189),i=a(168),r=a(139),s=a(190),u=a(161),m=a(176),d=a(191),p=a(145),g=a(166),f=a(177),h=a(38),y=a(124);const b=Object(o.a)(e=>({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},avatar:{width:"auto",height:"auto",padding:12,marginBottom:8},deleteIcon:{fontSize:56,color:"white"}}));t.default=e=>{const t=b(),{open:a=!1,onClose:n,children:o,title:E,type:C,headIcon:x=g.a,headIconColor:k=h.a,maxWidth:v="xs",dividers:w=!1,submitButtonColor:j=h.a,submitText:S="ลบ",cancelText:N="ยกเลิก",onCancel:O=n,onSubmit:F,other:B}=e;return l.a.createElement(c.a,Object.assign({scroll:"body",open:a,onClose:n,maxWidth:v,fullWidth:!0},B),l.a.createElement(i.a,null,l.a.createElement(r.a,{className:t.closeButton,onClick:n},l.a.createElement(f.a,null))),l.a.createElement(s.a,{dividers:w},l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(u.a,{className:t.avatar,style:{backgroundColor:k[500]}},l.a.createElement(x,{className:t.deleteIcon}))),l.a.createElement(m.a,{variant:"h6",align:"center"},E),l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o)),l.a.createElement(d.a,{style:{justifyContent:"center",margin:"16px 0"}},l.a.createElement(p.a,{size:"large",style:{marginRight:8},color:"primary",onClick:O},N),l.a.createElement(y.default,{size:"large",variant:"contained",buttonColor:j,onClick:F},S)))}},181:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(60),c=a(189),i=a(168),r=a(139),s=a(190),u=a(191),m=a(177);const d=Object(o.a)(e=>({closeButton:{position:"absolute",right:0,top:0,color:e.palette.grey[500],zIndex:1500}}));t.default=e=>{const t=d(),{open:a=!1,onClose:n,children:o,title:p,actions:g,maxWidth:f="xs",fullScreen:h=!1,dividers:y=!1,contentStyle:b,other:E}=e;return l.a.createElement(c.a,Object.assign({scroll:"paper",open:a,onClose:n,maxWidth:f,fullWidth:!0,fullScreen:h},E),l.a.createElement(i.a,{style:{...!p&&{backgroundColor:"black"}}},p,l.a.createElement(r.a,{className:t.closeButton,onClick:n},l.a.createElement(m.a,null))),l.a.createElement(s.a,{dividers:y,style:{...b,padding:0,display:"flex",flexDirection:"column",justifyContent:"space-around",backgroundColor:"black"}},o),g&&l.a.createElement(u.a,null,g))}},186:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(207),c=a.n(o),i=a(104),r=a(139),s=a(275),u=a(428),m=a(28),d=a(181),p=a(37),g=a(38),f=a(124),h=a(131);const y=Object(i.a)(e=>({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper,margin:"16px 0"},slider:{position:"relative",width:"100%"},itemGrid:{height:300,backgroundColor:p.a[900],backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",display:"flex",flexDirection:"column",justifyContent:"center"},item:{maxHeight:300,width:"100%",display:"block",objectFit:"contain"}}));t.default=({files:e,editting:t,rawAlbum:a,loadBusinessForm:o,thisFormId:i})=>{const p=y(),{csrf:b,setCsrf:E,_xhrPost:C,addSnackbar:x,_openFullScreen:k,_closeFullscreen:v,profileData:w}=Object(n.useContext)(m.a),[j,S]=Object(n.useState)(!1),[N,O]=Object(n.useState)(0),F=[...t?e:Array.from(e)],[B,I]=Object(n.useState)(!1);function W(){O(e=>e-1>=0?(e-1)%F.length:(e-1+F.length)%F.length)}function z(){O(e=>(e+1)%F.length)}function D(){I(!1)}return l.a.createElement("div",{className:p.root},l.a.createElement("div",{className:p.slider},l.a.createElement(c.a,{index:N,className:p.item},F.map((e,t)=>l.a.createElement("div",{key:t,className:p.itemGrid},l.a.createElement("img",{className:p.item,src:e,alt:`${t}`,onClick:()=>function(e){S(!0),O(e)}(t)})))),F.length>1&&l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{style:{position:"absolute",left:0,top:"calc(50% - 12px)",backgroundColor:"white",opacity:.8},onClick:W},l.a.createElement(s.a,null)),l.a.createElement(r.a,{style:{position:"absolute",right:0,top:"calc(50% - 12px)",backgroundColor:"white",opacity:.8},onClick:z},l.a.createElement(u.a,null))),a&&w&&l.a.createElement(f.default,{buttonColor:g.a,variant:"contained",size:"small",style:{position:"absolute",right:4,bottom:4},onClick:function(){I(!0)}},"ลบรูป")),l.a.createElement(d.default,{open:j,onClose:function(){S(!1)},fullScreen:!0},l.a.createElement("div",{className:p.slider,style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"}},l.a.createElement(c.a,{index:N},F.map((e,t)=>l.a.createElement("div",{key:t,style:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"}},l.a.createElement("img",{style:{width:"100%",maxHeight:window.innerHeight-48,objectFit:"contain"},src:e,alt:`${t}`})))),F.length>1&&l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{style:{position:"absolute",left:0,top:"calc(50% - 12px)",backgroundColor:"white",opacity:.8},onClick:W},l.a.createElement(s.a,null)),l.a.createElement(r.a,{style:{position:"absolute",right:0,top:"calc(50% - 12px)",backgroundColor:"white",opacity:.8},onClick:z},l.a.createElement(u.a,null))))),a&&w&&l.a.createElement(h.default,{type:"delete",open:B,onClose:D,onCancel:D,onSubmit:async function(){const e={action:"delpic",formid:i,linetoken:w.userId,picpath:a[N]};console.log(e);const t=await C({csrf:b,url:"formsystem",body:e});E(t.csrf),"success"===t.data.status?(x({message:"ลบรูปสำเร็จ",variant:"success"}),o(),D(),W()):x({message:"ลบรูปไม่สำเร็จ",variant:"error"})},title:"คุณแน่ใจหรือไม่ว่าต้องการจะลบรูป ?"},l.a.createElement("img",{style:{width:"100%"},src:F[N],alt:a[N]})))}}}]);