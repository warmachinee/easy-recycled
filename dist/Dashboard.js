(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{165:function(e,a,t){"use strict";var l=t(1),n=t(2),i=t(0),r=t.n(i),o=(t(3),t(7)),s=t(10),c=t(25),m={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},d=r.a.forwardRef((function(e,a){var t=e.align,i=void 0===t?"inherit":t,s=e.classes,d=e.className,h=e.color,g=void 0===h?"initial":h,p=e.component,y=e.display,f=void 0===y?"initial":y,u=e.gutterBottom,E=void 0!==u&&u,v=e.noWrap,b=void 0!==v&&v,x=e.paragraph,k=void 0!==x&&x,W=e.variant,j=void 0===W?"body1":W,w=e.variantMapping,L=void 0===w?m:w,O=Object(n.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),B=p||(k?"p":L[j]||m[j])||"span";return r.a.createElement(B,Object(l.a)({className:Object(o.a)(s.root,d,"inherit"!==j&&s[j],"initial"!==g&&s["color".concat(Object(c.a)(g))],b&&s.noWrap,E&&s.gutterBottom,k&&s.paragraph,"inherit"!==i&&s["align".concat(Object(c.a)(i))],"initial"!==f&&s["display".concat(Object(c.a)(f))]),ref:a},O))}));a.a=Object(s.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(d)},627:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),i=t(26),r=t.n(i),o=t(351),s=t(104),c=t(20),m=t(165),d=t(103),h=t(22),g=t(31),p=t(38),y=t(39),f=t(37);const u=r()({loader:()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(13)]).then(t.bind(null,573)),loading:()=>null}),E=r()({loader:()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(68),t.e(12)]).then(t.bind(null,574)),loading:()=>null}),v=r()({loader:()=>Promise.all([t.e(0),t.e(2),t.e(70),t.e(15)]).then(t.bind(null,575)),loading:()=>null}),b=r()({loader:()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(59)]).then(t.bind(null,576)),loading:()=>null}),x=r()({loader:()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(41)]).then(t.bind(null,577)),loading:()=>null}),k=r()({loader:()=>t.e(58).then(t.bind(null,578)),loading:()=>null}),W=r()({loader:()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(31)]).then(t.bind(null,579)),loading:()=>null}),j=r()({loader:()=>t.e(29).then(t.bind(null,580)),loading:()=>null}),w=r()({loader:()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(19)]).then(t.bind(null,581)),loading:()=>null}),L=r()({loader:()=>t.e(18).then(t.bind(null,582)),loading:()=>null}),O=Object(s.a)(e=>({content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3),marginLeft:240},contentChild:{height:"calc(100vh - 112px)",maxWidth:1200,margin:"auto"},pieChartGrid:{minWidth:600,position:"relative"},pieChart:{height:400,width:"auto"},chartLabel:{position:"absolute",bottom:16,width:"100%"}})),B={labels:{text:{fontSize:16,fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}},C=[{id:"total",type:"patternDots",background:"inherit",color:p.a[400],size:4,padding:1,stagger:!0},{id:"free",type:"patternLines",background:"inherit",color:y.a[400],rotation:-45,lineWidth:6,spacing:7}];const R=({children:e})=>{const a=O();return n.a.createElement("main",{className:a.content},n.a.createElement("div",{className:a.contentChild},e))},S=({label:e,value:a})=>{const t=Object(c.a)();return n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"body1",style:{color:t.palette.grey[900],fontWeight:400,marginRight:16}},e),n.a.createElement(m.a,{variant:"body1",style:{color:t.palette.grey[900],fontWeight:700,marginRight:8}},a))},$=()=>{const e=O(),a=Object(c.a)(),{csrf:t,setCsrf:i,_xhrPost:r,_thousandSeperater:s,sess:h}=Object(l.useContext)(g.a),[p,u]=Object(l.useState)(null);return Object(l.useEffect)(()=>{!async function(){const e=await r({csrf:t,url:"aloadusersystem",body:{action:"dashboard"}});i(e.csrf),u({...e.data,diskspace:{data:e.data.disk,chart:[{id:"พื้นที่เหลือใช้",label:"พื้นที่เหลือใช้",value:e.data.disk.free,status:"free"},{id:"ใช้ไปแล้ว",label:"ใช้ไปแล้ว",value:e.data.disk.use,status:"total"}]}})}()},[]),n.a.createElement("div",null,h&&"main_admin"===h.type&&p&&n.a.createElement("div",null,n.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},n.a.createElement("div",{className:e.pieChartGrid},n.a.createElement("div",{className:e.pieChart},n.a.createElement(o.a,{data:p.diskspace.chart,radialLabel:e=>`${e.label} (${(e.value/1e3).toFixed(2)} GB)`,sliceLabel:e=>`${(e.value/p.diskspace.data.size*100).toFixed(1)}%`,margin:{top:40,right:80,bottom:80,left:80},innerRadius:0,padAngle:.7,cornerRadius:3,borderWidth:1,borderColor:{theme:"grid.line.stroke"},radialLabelsSkipAngle:9,radialLabelsTextXOffset:6,radialLabelsTextColor:a.palette.text.primary,radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:16,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:a.palette.text.primary,slicesLabelsTextColor:f.a[900],slicesLabelsSkipAngle:12,animate:!0,motionStiffness:90,motionDamping:15,defs:C,fill:p.diskspace.chart.map(e=>function(e){let a="";switch(e.status){case"total":a="total";break;case"free":a="free";break;default:a="free"}return{match:{id:e.id},id:a}}(e)),tooltip:e=>{const a=e.value.toFixed(2).toString().split(".");return n.a.createElement(S,{label:e.label,value:`${s(a[0])}.${a[1]}`})},theme:B})),n.a.createElement(m.a,{variant:"h6",align:"center",className:e.chartLabel},"พื้นที่จัดเก็บข้อมูล")),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",maxWidth:240}},n.a.createElement(d.a,{elevation:3,style:{padding:16,margin:16,width:"100%",boxSizing:"border-box"}},n.a.createElement(m.a,{style:{marginBottom:24}},"ลูกค้าในระบบ"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"h6",style:{color:y.a[600],fontWeight:600,flex:1,marginRight:16},align:"right"},s(p.total.customer)),n.a.createElement(m.a,{variant:"h6"},"คน"))),n.a.createElement(d.a,{elevation:3,style:{padding:16,margin:16,width:"100%",boxSizing:"border-box"}},n.a.createElement(m.a,{style:{marginBottom:24}},"เจ้าของกิจการในระบบ"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"h6",style:{color:y.a[600],fontWeight:600,flex:1,marginRight:16},align:"right"},s(p.total.business)),n.a.createElement(m.a,{variant:"h6"},"คน"))))),n.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},n.a.createElement("div",{style:{width:"100%",maxWidth:500}},n.a.createElement(m.a,{variant:"h6",style:{margin:"0 16px"}},"รายวัน"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(d.a,{elevation:3,style:{padding:16,margin:16,flex:1}},n.a.createElement(m.a,{style:{marginBottom:16}},"ผู้ใช้งานใหม่"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"h6",style:{color:y.a[600],fontWeight:600,flex:1,marginRight:16},align:"right"},s(p.day.newuser)),n.a.createElement(m.a,{variant:"h6"},"คน"))),n.a.createElement("div",{style:{padding:16,margin:16,flex:1}})),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(d.a,{elevation:3,style:{padding:16,margin:16,flex:1}},n.a.createElement(m.a,{style:{marginBottom:16}},"ลงสินค้า"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"h6",style:{color:y.a[600],fontWeight:600,flex:1,marginRight:16},align:"right"},s(p.day.createform)),n.a.createElement(m.a,{variant:"h6"},"ครั้ง"))),n.a.createElement(d.a,{elevation:3,style:{padding:16,margin:16,flex:1}},n.a.createElement(m.a,{style:{marginBottom:16}},"เข้าดูสินค้า"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"h6",style:{color:y.a[600],fontWeight:600,flex:1,marginRight:16},align:"right"},s(p.day.accessform)),n.a.createElement(m.a,{variant:"h6"},"ครั้ง")))),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(d.a,{elevation:3,style:{padding:16,margin:16,flex:1}},n.a.createElement(m.a,{style:{marginBottom:16}},"จบการขาย"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"h6",style:{color:y.a[600],fontWeight:600,flex:1,marginRight:16},align:"right"},s(p.day.endofsale)),n.a.createElement(m.a,{variant:"h6"},"ครั้ง"))),n.a.createElement(d.a,{elevation:3,style:{padding:16,margin:16,flex:1}},n.a.createElement(m.a,{style:{marginBottom:16}},"เติมเงิน"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"h6",style:{color:y.a[600],fontWeight:600,flex:1,marginRight:16},align:"right"},s(p.day.topup)),n.a.createElement(m.a,{variant:"h6"},"ครั้ง"))))),n.a.createElement("div",{style:{width:"100%",maxWidth:500}},n.a.createElement(m.a,{variant:"h6",style:{margin:"0 16px"}},"รายเดือน"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(d.a,{elevation:3,style:{padding:16,margin:16,flex:1}},n.a.createElement(m.a,{style:{marginBottom:16}},"ผู้ใช้งานใหม่"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"h6",style:{color:y.a[600],fontWeight:600,flex:1,marginRight:16},align:"right"},s(p.month.newuser)),n.a.createElement(m.a,{variant:"h6"},"คน"))),n.a.createElement("div",{style:{padding:16,margin:16,flex:1}})),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(d.a,{elevation:3,style:{padding:16,margin:16,flex:1}},n.a.createElement(m.a,{style:{marginBottom:16}},"ลงสินค้า"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"h6",style:{color:y.a[600],fontWeight:600,flex:1,marginRight:16},align:"right"},s(p.month.createform)),n.a.createElement(m.a,{variant:"h6"},"ครั้ง"))),n.a.createElement(d.a,{elevation:3,style:{padding:16,margin:16,flex:1}},n.a.createElement(m.a,{style:{marginBottom:16}},"เข้าดูสินค้า"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"h6",style:{color:y.a[600],fontWeight:600,flex:1,marginRight:16},align:"right"},s(p.month.accessform)),n.a.createElement(m.a,{variant:"h6"},"ครั้ง")))),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(d.a,{elevation:3,style:{padding:16,margin:16,flex:1}},n.a.createElement(m.a,{style:{marginBottom:16}},"จบการขาย"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"h6",style:{color:y.a[600],fontWeight:600,flex:1,marginRight:16},align:"right"},s(p.month.endofsale)),n.a.createElement(m.a,{variant:"h6"},"ครั้ง"))),n.a.createElement(d.a,{elevation:3,style:{padding:16,margin:16,flex:1}},n.a.createElement(m.a,{style:{marginBottom:16}},"เติมเงิน"),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(m.a,{variant:"h6",style:{color:y.a[600],fontWeight:600,flex:1,marginRight:16},align:"right"},s(p.month.topup)),n.a.createElement(m.a,{variant:"h6"},"ครั้ง"))))))))},P=({match:e,history:a,location:t})=>{const{csrf:i,setCsrf:r,_xhrPost:o,sess:s}=Object(l.useContext)(g.a),c={...Object(l.useContext)(g.a),sess:s};return Object(l.useEffect)(()=>{s&&"need login before"===s.status&&a.replace(e.path),async function(){const e=await o({csrf:i,url:"aloadusersystem",body:{action:"info"}});r(e.csrf)}()},[]),n.a.createElement(g.a.Provider,{value:c},n.a.createElement("div",null,n.a.createElement(E,null),s&&n.a.createElement(v,Object.assign({},{sess:s})),n.a.createElement(R,null,n.a.createElement(h.a,{exact:!0,path:e.path,component:$}),n.a.createElement(h.a,{path:`${e.path}/topup`,component:b}),n.a.createElement(h.a,{path:`${e.path}/goods_list`,component:x}),n.a.createElement(h.a,{path:`${e.path}/admin_list`,component:u}),n.a.createElement(h.a,{path:`${e.path}/setup`,component:k}),n.a.createElement(h.a,{path:`${e.path}/customer_list`,component:W}),n.a.createElement(h.a,{path:`${e.path}/customer_form`,component:j}),n.a.createElement(h.a,{path:`${e.path}/business_list`,component:w}),n.a.createElement(h.a,{path:`${e.path}/business_form`,component:L}))))};a.default=Object(h.f)(e=>n.a.createElement(P,Object.assign({},e)))}}]);