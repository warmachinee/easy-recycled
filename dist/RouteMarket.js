(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{123:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1),r=a(0),o=a.n(r),i=a(59);function l(e,t){var a=o.a.memo(o.a.forwardRef((function(t,a){return o.a.createElement(i.a,Object(n.a)({ref:a},t),e)})));return a.muiName=i.a.muiName,a}},176:function(e,t,a){"use strict";var n=a(1),r=a(2),o=a(0),i=a.n(o),l=(a(3),a(7)),c=a(10),s=a(25),p={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},h=i.a.forwardRef((function(e,t){var a=e.align,o=void 0===a?"inherit":a,c=e.classes,h=e.className,d=e.color,u=void 0===d?"initial":d,y=e.component,f=e.display,m=void 0===f?"initial":f,g=e.gutterBottom,b=void 0!==g&&g,v=e.noWrap,x=void 0!==v&&v,w=e.paragraph,j=void 0!==w&&w,O=e.variant,E=void 0===O?"body1":O,k=e.variantMapping,I=void 0===k?p:k,P=Object(r.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),L=y||(j?"p":I[E]||p[E])||"span";return i.a.createElement(L,Object(n.a)({className:Object(l.a)(c.root,h,"inherit"!==E&&c[E],"initial"!==u&&c["color".concat(Object(s.a)(u))],x&&c.noWrap,b&&c.gutterBottom,j&&c.paragraph,"inherit"!==o&&c["align".concat(Object(s.a)(o))],"initial"!==m&&c["display".concat(Object(s.a)(m))]),ref:t},P))}));t.a=Object(c.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(h)},224:function(e,t){},419:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(123);t.a=Object(o.a)(r.a.createElement("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"}),"AttachMoney")},623:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),i=a.n(o),l=a(184),c=a.n(l),s=a(104),p=a(176),h=a(419),d=a(39),u=a(28),y=a(22),f=a(40);i()({loader:()=>Promise.all([a.e(1),a.e(16)]).then(a.bind(null,124)),loading:()=>null});const m=i()({loader:()=>Promise.all([a.e(1),a.e(44)]).then(a.bind(null,610)),loading:()=>null}),g=i.a.Map({loader:{MarketList:()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(57)]).then(a.bind(null,427))},render(e,t){let a=e.MarketList.default;return r.a.createElement(y.a,Object.assign({},t,{render:()=>r.a.createElement(a,Object.assign({},t))}))},loading:()=>null}),b=i()({loader:()=>Promise.all([a.e(0),a.e(1),a.e(7),a.e(8),a.e(43)]).then(a.bind(null,611)),loading:()=>null}),v=Object(s.a)(e=>({offset:e.mixins.toolbar,profileCard:{display:"flex",flexDirection:"column",justifyContent:"center",margin:36,padding:16,width:200},title:{flexGrow:1}})),x=window.liff,w=({match:e,location:t,history:a})=>{const o=v(),{csrf:i,setCsrf:l,setDense:s,enQSnackbar:w,closeSnackbar:j,_xhrPost:O,_xhrGet:E,_isDesktopBrowser:k,_thousandSeperater:I,checkSession:P,getInfo:L,profileData:M,setProfileData:S,handleLogout:B,setSess:A,userInfo:C,setUserInfo:D}=Object(n.useContext)(u.a),[N,R]=Object(n.useState)(null),W={...Object(n.useContext)(u.a),marketList:N,getMarketPlace:_,refreshInfo:L};async function _(){const e=await O({csrf:i,url:"loadusersystem",body:{action:"boardlist",linetoken:M&&M.userId,type:"customer"}});l(e.csrf),"status"in e.data&&"this is not user account or have been delete account"===e.data.status?P():R(e.data)}function J(){x.getProfile().then(e=>{S(e),async function(e){A(null);const t=await O({csrf:i,url:"session",body:{linetoken:e.userId,type:"customer"}});l(t.csrf),A(t.data)}(e),async function(e){const t=await O({csrf:i,url:"loadusersystem",body:{action:"info",linetoken:e.userId,type:"customer"}});l(t.csrf),D(t.data)}(e)}).catch(e=>console.error(e))}return Object(n.useEffect)(()=>{k()?a.replace("/admin"):(M?_():x.init({liffId:"1653861118-DAld6Lv2"},async()=>{x.isLoggedIn()?J():x.login({redirectUri:"https://easyrecycle.ml/market"})}),s(!0))},[M]),Object(n.useEffect)(()=>{var e;e=N,c()("https://easyrecycle.ml",{transports:["websocket","polling"]}).on("boardlist",t=>{if(t){const{formid:a,accessremain:n}=t;if(e){R(null);const t=e;t.filter(e=>e.formid===a)[0].accessremain=n,R(t),0===n&&_()}}})},[N]),r.a.createElement(u.a.Provider,{value:W},r.a.createElement("div",null,r.a.createElement(m,Object.assign({},{userInfo:C,handleLogout:B})),r.a.createElement("div",{className:o.offset}),C&&!("status"in C)&&r.a.createElement("div",{style:{display:"flex",padding:"12px 16px 0 16px",alignItems:"center"}},r.a.createElement(f.b,{to:"/",style:{color:d.a[600]}},r.a.createElement(p.a,{style:{marginRight:16},variant:"h6"},"บัญชีของฉัน")),r.a.createElement(p.a,{variant:"h6",style:{marginLeft:24,marginRight:8,fontWeight:700,flex:1},align:"right"},I(C.info.balance)),r.a.createElement(h.a,null)),r.a.createElement(g,{exact:!0,path:e.path}),r.a.createElement(y.a,{exact:!0,path:`${e.path}/:formid`,component:b})))};t.default=Object(y.f)(e=>r.a.createElement(w,Object.assign({},e)))}}]);