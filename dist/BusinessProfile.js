(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["BusinessProfile"],{

/***/ "./src/AppComponent/AppButton.tsx":
/*!****************************************!*\
  !*** ./src/AppComponent/AppButton.tsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core/styles */ \"./node_modules/@material-ui/core/esm/styles/index.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/index.js\");\n\r\n\r\n\r\nconst AppButton = ({ children, variant, buttonColor: color, light = false, ...props }) => {\r\n    const theme = Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"useTheme\"])();\r\n    function styleFromVariant(variant) {\r\n        switch (variant) {\r\n            case \"text\":\r\n                return {\r\n                    color: color ? color[600] : theme.palette.text.primary,\r\n                    \"&:hover\": {\r\n                        backgroundColor: color\r\n                            ? color[light ? 100 : 50]\r\n                            : theme.palette.action.hover\r\n                    }\r\n                };\r\n            case \"contained\":\r\n                return {\r\n                    color: color\r\n                        ? theme.palette.getContrastText(color[light ? 700 : 600])\r\n                        : theme.palette.text.primary,\r\n                    backgroundColor: color\r\n                        ? color[light ? 600 : 500]\r\n                        : theme.palette.background.default,\r\n                    \"&:hover\": {\r\n                        backgroundColor: color\r\n                            ? color[light ? 800 : 700]\r\n                            : theme.palette.action.hover\r\n                    }\r\n                };\r\n            case \"outlined\":\r\n                return {\r\n                    color: color ? color[600] : theme.palette.text.primary,\r\n                    border: `1px solid ${color ? color[600] : theme.palette.text.primary}`,\r\n                    \"&:hover\": {\r\n                        backgroundColor: color\r\n                            ? color[light ? 100 : 50]\r\n                            : theme.palette.action.hover\r\n                    }\r\n                };\r\n            default:\r\n                return {\r\n                    color: theme.palette.text.primary,\r\n                    \"&:hover\": {\r\n                        backgroundColor: theme.palette.action.hover\r\n                    }\r\n                };\r\n        }\r\n    }\r\n    const StyledButton = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__[\"withStyles\"])((theme) => ({\r\n        root: { ...styleFromVariant(variant) }\r\n    }))(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Button\"]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StyledButton, Object.assign({}, props, { variant: variant }), children));\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (AppButton);\r\n\n\n//# sourceURL=webpack:///./src/AppComponent/AppButton.tsx?");

/***/ }),

/***/ "./src/page/Business/BusinessProfile.tsx":
/*!***********************************************!*\
  !*** ./src/page/Business/BusinessProfile.tsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/styles */ \"./node_modules/@material-ui/styles/esm/index.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/index.js\");\n/* harmony import */ var _material_ui_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/icons */ \"./node_modules/@material-ui/icons/esm/index.js\");\n/* harmony import */ var react_text_mask__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-text-mask */ \"./node_modules/react-text-mask/dist/reactTextMask.js\");\n/* harmony import */ var react_text_mask__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_text_mask__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _AppComponent_AppButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../AppComponent/AppButton */ \"./src/AppComponent/AppButton.tsx\");\n/* harmony import */ var _material_ui_core_colors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core/colors */ \"./node_modules/@material-ui/core/esm/colors/index.js\");\n/* harmony import */ var _AppContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../AppContext */ \"./src/AppContext.tsx\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst useStyles = Object(_material_ui_styles__WEBPACK_IMPORTED_MODULE_1__[\"makeStyles\"])(theme => ({\r\n    content: {\r\n        position: \"relative\",\r\n        padding: \"16px 24px\",\r\n        borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n        borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\"\r\n    },\r\n    avatar: { height: 128, width: 128, margin: \"auto\" },\r\n    label: { fontWeight: 700, width: \"30%\" },\r\n    text: { width: \"70%\" },\r\n    textField: { marginBottom: 12 }\r\n}));\r\nfunction TextMaskCustom(props) {\r\n    const { inputRef, ...other } = props;\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_text_mask__WEBPACK_IMPORTED_MODULE_4___default.a, Object.assign({}, other, { ref: (ref) => {\r\n            inputRef(ref ? ref.inputElement : null);\r\n        }, mask: [\r\n            \"(\",\r\n            /[0-9]/,\r\n            /\\d/,\r\n            /\\d/,\r\n            \")\",\r\n            \" \",\r\n            /\\d/,\r\n            /\\d/,\r\n            /\\d/,\r\n            \"-\",\r\n            /\\d/,\r\n            /\\d/,\r\n            /\\d/,\r\n            /\\d/\r\n        ], placeholderChar: \"\\u2000\" })));\r\n}\r\nconst ProfileComponent = ({ data }) => {\r\n    const classes = useStyles();\r\n    const { csrf, setCsrf, profileData, _xhrPost, checkSession, phoneFormatToNumber, stringToPhone, getInfo } = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_AppContext__WEBPACK_IMPORTED_MODULE_7__[\"AppContext\"]);\r\n    const [isEditing, setIsEditing] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\r\n    const [thisData, setThisData] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])({\r\n        ...data,\r\n        tel: stringToPhone(`0${data.tel}`)\r\n    });\r\n    function checkDisabled() {\r\n        const keyArr = [\"displayname\", \"fullname\", \"lastname\", \"business_name\"];\r\n        const thisArr = [];\r\n        for (var i = 0; i < keyArr.length; i++) {\r\n            if (thisData[keyArr[i]] !== data[keyArr[i]]) {\r\n                thisArr.push(thisData[keyArr[i]]);\r\n            }\r\n        }\r\n        if (thisData.tel !== `0${data.tel}`) {\r\n            thisArr.push(thisData[keyArr[i]]);\r\n        }\r\n        return thisArr.length === 0;\r\n    }\r\n    async function onSave() {\r\n        const sendObj = {\r\n            action: \"editprofile\",\r\n            linetoken: profileData.userId,\r\n            type: \"business\"\r\n        };\r\n        const keyArr = [\"displayname\", \"fullname\", \"lastname\", \"email\"];\r\n        for (var i = 0; i < keyArr.length; i++) {\r\n            if (thisData[keyArr[i]] !== data[keyArr[i]]) {\r\n                Object.assign(sendObj, { [keyArr[i]]: thisData[keyArr[i]] });\r\n            }\r\n        }\r\n        if (thisData.tel !== `0${data.tel}`) {\r\n            Object.assign(sendObj, { tel: phoneFormatToNumber(thisData.tel) });\r\n        }\r\n        const res = await _xhrPost({\r\n            csrf,\r\n            url: \"usersystem\",\r\n            body: sendObj\r\n        });\r\n        console.log(res.data);\r\n        setCsrf(res.csrf);\r\n        if (\"status\" in res.data &&\r\n            res.data.status === \"this is not user account or have been delete account\") {\r\n            checkSession();\r\n        }\r\n        else {\r\n            getInfo();\r\n            setIsEditing(false);\r\n        }\r\n    }\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { position: \"relative\" } },\r\n        isEditing ? (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"IconButton\"], { onClick: () => setIsEditing(false), style: { top: -12, left: -12 } },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_3__[\"ArrowBackIos\"], null))) : (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"IconButton\"], { style: { position: \"absolute\", top: -12, right: 0 }, onClick: () => setIsEditing(true) },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_3__[\"Settings\"], null))),\r\n        isEditing ? (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"TextField\"], { className: classes.textField, fullWidth: true, label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E17\\u0E35\\u0E48\\u0E41\\u0E2A\\u0E14\\u0E07\", value: thisData.displayname, onChange: e => setThisData({ ...thisData, displayname: e.target.value }) }),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"TextField\"], { className: classes.textField, fullWidth: true, label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\", value: thisData.fullname, onChange: e => setThisData({ ...thisData, fullname: e.target.value }) }),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"TextField\"], { className: classes.textField, fullWidth: true, label: \"\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\", value: thisData.lastname, onChange: e => setThisData({ ...thisData, lastname: e.target.value }) }),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Divider\"], { style: { margin: \"12px 0\" } }),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"TextField\"], { className: classes.textField, fullWidth: true, label: \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\", InputProps: {\r\n                    inputComponent: TextMaskCustom\r\n                }, value: thisData.tel, onChange: e => setThisData({ ...thisData, tel: e.target.value }) }),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"TextField\"], { className: classes.textField, fullWidth: true, label: \"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\", value: thisData.email, onChange: e => setThisData({ ...thisData, email: e.target.value }) }),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Divider\"], { style: { margin: \"12px 0\" } }),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { display: \"flex\" } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AppComponent_AppButton__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { buttonColor: _material_ui_core_colors__WEBPACK_IMPORTED_MODULE_6__[\"green\"], variant: \"outlined\", style: { flex: 1, margin: 8 }, onClick: () => {\r\n                        setThisData({\r\n                            ...data,\r\n                            tel: `0${data.tel}`\r\n                        });\r\n                        setIsEditing(false);\r\n                    } }, \"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AppComponent_AppButton__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { buttonColor: _material_ui_core_colors__WEBPACK_IMPORTED_MODULE_6__[\"green\"], variant: \"contained\", style: { flex: 1, margin: 8 }, onClick: onSave, disabled: checkDisabled() }, \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\")))) : (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Avatar\"], { src: data.picture, className: classes.avatar }),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Typography\"], { align: \"center\", variant: \"h6\" }, data.displayname),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Typography\"], { align: \"center\" }, `${data.fullname} ${data.lastname}`),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Typography\"], { align: \"center\" }, data.statusmassage),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Divider\"], { style: { margin: \"12px 0\" } }),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { display: \"flex\" } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Typography\"], { className: classes.label }, \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Typography\"], { className: classes.text }, stringToPhone(`0${data.tel}`))),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { display: \"flex\" } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Typography\"], { className: classes.label }, \"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Typography\"], { className: classes.text }, data.email))))));\r\n};\r\nconst BusinessProfile = props => {\r\n    const classes = useStyles();\r\n    const { userInfo } = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_AppContext__WEBPACK_IMPORTED_MODULE_7__[\"AppContext\"]);\r\n    const { history } = props;\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null,\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { padding: \"16px 24px\", position: \"relative\" } },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"Typography\"], { variant: \"h6\" }, \"\\u0E42\\u0E1B\\u0E23\\u0E44\\u0E1F\\u0E25\\u0E4C\"),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"IconButton\"], { style: { top: 8, color: _material_ui_core_colors__WEBPACK_IMPORTED_MODULE_6__[\"grey\"][500], right: 8, position: \"absolute\" }, onClick: () => history.replace(\"/business\") },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_3__[\"Close\"], null))),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { className: classes.content }, userInfo && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ProfileComponent, Object.assign({ data: userInfo }, props)))));\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router_dom__WEBPACK_IMPORTED_MODULE_8__[\"withRouter\"])(props => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BusinessProfile, Object.assign({}, props))));\r\n\n\n//# sourceURL=webpack:///./src/page/Business/BusinessProfile.tsx?");

/***/ })

}]);