(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{123:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var o=a(1),n=a(0),r=a.n(n),i=a(59);function l(t,e){var a=r.a.memo(r.a.forwardRef((function(e,a){return r.a.createElement(i.a,Object(o.a)({ref:a},e),t)})));return a.muiName=i.a.muiName,a}},137:function(t,e,a){"use strict";var o=a(1),n=a(2),r=a(0),i=a.n(r),l=(a(3),a(7)),c=a(10),s=a(18),d=a(599),p=a(25),u=i.a.forwardRef((function(t,e){var a=t.edge,r=void 0!==a&&a,c=t.children,s=t.classes,u=t.className,h=t.color,m=void 0===h?"default":h,g=t.disabled,b=void 0!==g&&g,f=t.disableFocusRipple,y=void 0!==f&&f,v=t.size,O=void 0===v?"medium":v,j=Object(n.a)(t,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return i.a.createElement(d.a,Object(o.a)({className:Object(l.a)(s.root,u,"default"!==m&&s["color".concat(Object(p.a)(m))],b&&s.disabled,"small"===O&&s["size".concat(Object(p.a)(O))],{start:s.edgeStart,end:s.edgeEnd}[r]),centerRipple:!0,focusRipple:!y,disabled:b,ref:e},j),i.a.createElement("span",{className:s.label},c))}));e.a=Object(c.a)((function(t){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(s.d)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:t.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:Object(s.d)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:Object(s.d)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:t.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(u)},162:function(t,e,a){"use strict";var o=a(1),n=a(2),r=a(0),i=a.n(r),l=(a(3),a(7)),c=a(10),s=a(25),d={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},p=i.a.forwardRef((function(t,e){var a=t.align,r=void 0===a?"inherit":a,c=t.classes,p=t.className,u=t.color,h=void 0===u?"initial":u,m=t.component,g=t.display,b=void 0===g?"initial":g,f=t.gutterBottom,y=void 0!==f&&f,v=t.noWrap,O=void 0!==v&&v,j=t.paragraph,x=void 0!==j&&j,w=t.variant,k=void 0===w?"body1":w,S=t.variantMapping,C=void 0===S?d:S,E=Object(n.a)(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),N=m||(x?"p":C[k]||d[k])||"span";return i.a.createElement(N,Object(o.a)({className:Object(l.a)(c.root,p,"inherit"!==k&&c[k],"initial"!==h&&c["color".concat(Object(s.a)(h))],O&&c.noWrap,y&&c.gutterBottom,x&&c.paragraph,"inherit"!==r&&c["align".concat(Object(s.a)(r))],"initial"!==b&&c["display".concat(Object(s.a)(b))]),ref:e},E))}));e.a=Object(c.a)((function(t){return{root:{margin:0},body2:t.typography.body2,body1:t.typography.body1,caption:t.typography.caption,button:t.typography.button,h1:t.typography.h1,h2:t.typography.h2,h3:t.typography.h3,h4:t.typography.h4,h5:t.typography.h5,h6:t.typography.h6,subtitle1:t.typography.subtitle1,subtitle2:t.typography.subtitle2,overline:t.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorTextPrimary:{color:t.palette.text.primary},colorTextSecondary:{color:t.palette.text.secondary},colorError:{color:t.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(p)},170:function(t,e,a){"use strict";var o=a(0),n=a.n(o),r=a(123);e.a=Object(r.a)(n.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},199:function(t,e){},200:function(t,e,a){"use strict";var o=a(1),n=a(2),r=a(5),i=a(0),l=a.n(i),c=(a(3),a(7)),s=a(10),d=l.a.forwardRef((function(t,e){var a=t.classes,r=t.className,i=t.component,s=void 0===i?"div":i,d=t.disableGutters,p=void 0!==d&&d,u=t.variant,h=void 0===u?"regular":u,m=Object(n.a)(t,["classes","className","component","disableGutters","variant"]);return l.a.createElement(s,Object(o.a)({className:Object(c.a)(a.root,a[h],r,!p&&a.gutters),ref:e},m))}));e.a=Object(s.a)((function(t){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(r.a)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),regular:t.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(d)},226:function(t,e,a){"use strict";var o=a(1),n=a(2),r=a(0),i=a.n(r),l=(a(3),a(7)),c=a(10),s=a(25),d=a(103),p=i.a.forwardRef((function(t,e){var a=t.classes,r=t.className,c=t.color,p=void 0===c?"primary":c,u=t.position,h=void 0===u?"fixed":u,m=Object(n.a)(t,["classes","className","color","position"]);return i.a.createElement(d.a,Object(o.a)({square:!0,component:"header",elevation:4,className:Object(l.a)(a.root,a["position".concat(Object(s.a)(h))],a["color".concat(Object(s.a)(p))],r,"fixed"===h&&"mui-fixed"),ref:e},m))}));e.a=Object(c.a)((function(t){var e="light"===t.palette.type?t.palette.grey[100]:t.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:t.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static",transform:"translateZ(0)"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:e,color:t.palette.getContrastText(e)},colorPrimary:{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText},colorSecondary:{backgroundColor:t.palette.secondary.main,color:t.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(p)},600:function(t,e,a){"use strict";a.r(e);var o=a(0),n=a.n(o),r=a(185),i=a.n(r),l=a(26),c=a.n(l),s=a(104),d=(a(226),a(200),a(137)),p=(a(162),a(123)),u=(Object(p.a)(n.a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),a(170)),h=(a(39),a(31)),m=a(22);const g=c()({loader:()=>Promise.all([a.e(0),a.e(2),a.e(3),a.e(4),a.e(31)]).then(a.bind(null,583)),loading:()=>null}),b=c()({loader:()=>Promise.all([a.e(0),a.e(2),a.e(3),a.e(71),a.e(26)]).then(a.bind(null,588)),loading:()=>null}),f=c()({loader:()=>a.e(25).then(a.bind(null,382)),loading:()=>null}),y=(c()({loader:()=>Promise.all([a.e(1),a.e(15)]).then(a.bind(null,125)),loading:()=>null}),Object(s.a)(t=>({profileCard:{display:"flex",flexDirection:"column",justifyContent:"center",margin:36,padding:16,width:200},title:{flexGrow:1}}))),v=window.liff,O=({location:t,history:e,match:a})=>{y();const{csrf:r,setCsrf:l,setDense:c,enQSnackbar:s,closeSnackbar:p,_xhrPost:m,_xhrGet:O,_onLocalhost:j,_onLocalhostFn:x}=Object(o.useContext)(h.a),[w,k]=Object(o.useState)(null),[S,C]=Object(o.useState)(null),[E,N]=Object(o.useState)(null),[R,I]=Object(o.useState)(null),[z,P]=n.a.useState(0),D={...Object(o.useContext)(h.a),sess:S,getSess:A,profileData:w,addSnackbar:function({message:t,variant:e}){s({message:t,variant:e,action:U})},handleLogout:async function(){const t=await O("logout");l(t.csrf),v.isLoggedIn()&&v.logout();window.location.reload()},checkSession:B,notifications:R,setNotifications:I,notiPage:z,setNotiPage:P,readNotifications:async function(){const t=await m({csrf:r,url:"usersystem",body:{action:"readnoti",linetoken:w&&w.userId,type:"customer"}});l(t.csrf),T(w)},realtimeAccess:function(){i()("https://easyrecycle.ml",{transports:["websocket","polling"]}).emit("noti",{action:"noti",linetoken:w&&w.userId,type:"customer",startindex:0,lastindex:10*(z+1)})}};async function B(){const t=await O("logout");l(t.csrf),L()}function L(){v.init({liffId:"1653861118-DAld6Lv2"},async()=>{v.isLoggedIn()?v.getProfile().then(t=>{k(t),A(t)}).catch(t=>console.error(t)):v.login({redirectUri:"https://easyrecycle.ml/"})})}async function A(t){C(null),N(null);const e=await m({csrf:r,url:"session",body:{linetoken:t.userId,type:"customer"}});l(e.csrf),C(e.data),N(e.data)}async function T(t){const e=await m({csrf:r,url:"loadusersystem",body:{action:"noti",linetoken:t.userId,type:"customer",startindex:0,lastindex:10*(z+1)}});l(e.csrf),"status"in e.data&&"this is not user account or have been delete account"===e.data.status||"need to login user account"===e.data.status?B():I(e.data)}Object(o.useEffect)(()=>{var t;w&&S&&"not member"!==S.status&&(t=S,i()("https://easyrecycle.ml",{transports:["websocket","polling"]}).on(`noti-${t.userid}`,t=>{if(t&&"success"===t.status){const{list:e}=t.result;I(e)}}),T(w))},[S,w,z]),Object(o.useEffect)(()=>{/localhost/.test(window.location.href)?k({userId:"U34854b16de48d84b63c751717c9d2771",displayName:"P.R.E.M.I.O.R",pictureUrl:"https://profile.line-scdn.net/0hPyKQa5SXD1Z2KCciVYpwAUptATsBBgkeDh0UNVooWDJcT05USkhFY1F9AW9dEU8CShsUN1N7UmUJ",statusMessage:"UI/UX Developer at PDS Co.,Ltd."}):L(),c(!0)},[]);const U=t=>n.a.createElement(d.a,{onClick:()=>p(t)},n.a.createElement(u.a,{style:{color:"white"}}));return n.a.createElement(h.a.Provider,{value:D},n.a.createElement("div",null,S&&("not member"!==S.status?n.a.createElement(b,null):n.a.createElement(g,Object.assign({},{profileData:w}))),n.a.createElement(f,Object.assign({},{backDrop:E,setBackDrop:N}))))};e.default=Object(m.f)(t=>n.a.createElement(O,Object.assign({},t)))}}]);