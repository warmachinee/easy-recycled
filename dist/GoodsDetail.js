(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{125:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(10),r=a(20),c=a(133);t.default=({children:e,variant:t,buttonColor:a,light:n=!1,...s})=>{const i=Object(r.a)();function m(e){switch(e){case"text":return{color:a?a[600]:i.palette.text.primary,"&:hover":{backgroundColor:a?a[n?100:50]:i.palette.action.hover}};case"contained":return{color:a?i.palette.getContrastText(a[n?700:600]):i.palette.text.primary,backgroundColor:a?a[n?600:500]:i.palette.background.default,"&:hover":{backgroundColor:a?a[n?800:700]:i.palette.action.hover}};case"outlined":return{color:a?a[600]:i.palette.text.primary,border:`1px solid ${a?a[600]:i.palette.text.primary}`,"&:hover":{backgroundColor:a?a[n?100:50]:i.palette.action.hover}};default:return{color:i.palette.text.primary,"&:hover":{backgroundColor:i.palette.action.hover}}}}const d=Object(l.a)(e=>({root:{...m(t)}}))(c.a);return o.a.createElement(d,Object.assign({},s,{variant:t}),e)}},161:function(e,t,a){"use strict";var n=a(0),o=a.n(n),l=a(123);t.a=Object(l.a)(o.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create")},549:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(26),r=a.n(l),c=a(104),s=a(31),i=a(162),m=a(137),d=a(149),u=a(260),f=a(586),y=a(148),b=a(570),E=a(281),v=a(563),p=a(564),g=a(142),h=a(161),C=a(125),x=a(39),_=a(38),k=a(596);const j=Object(c.a)(e=>({editButton:{padding:6,marginBottom:6,marginLeft:8},dateText:{width:"50%"}})),O=r()({loader:()=>Promise.all([a.e(0),a.e(35)]).then(a.bind(null,134)),loading:()=>null}),w=({value:e})=>{const t=j(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:f,realtimeEndOfSale:y}=Object(n.useContext)(s.a),[b,E]=Object(n.useState)(!1),[v,p]=Object(n.useState)({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""});async function g({thisValue:t,keys:n}){const o=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:f.formid,[n]:t}});l(o.csrf),c(),"endofsale"===n&&y(e)}return o.a.createElement("div",null,o.a.createElement(i.a,{style:{marginBottom:12},variant:"h6"},"ตั้งค่า",!b&&o.a.createElement(m.a,{className:t.editButton,onClick:()=>{E(!0),p({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},o.a.createElement(h.a,{fontSize:"small"}))),o.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},o.a.createElement(i.a,{style:{width:100}},"รหัสสินค้า"),b?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,value:`${v.formcode_sector}`,type:"number",onChange:e=>p({...v,formcode_sector:e.target.value})}),o.a.createElement(C.default,{disabled:v.formcode_sector===e,variant:"contained",buttonColor:x.a,onClick:()=>g({thisValue:v.formcode_sector,keys:"formcode_sector"})},"บันทึก"),o.a.createElement(C.default,{variant:"text",buttonColor:x.a,onClick:()=>{E(!1),p({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},"ยกเลิก")):o.a.createElement(i.a,null,e.formcode&&e.formcode.sector?e.formcode.sector:"-")),o.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},o.a.createElement(i.a,{style:{width:100}},"รหัสจังหวัด"),b?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,value:`${v.formcode_province}`,type:"number",onChange:e=>p({...v,formcode_province:e.target.value})}),o.a.createElement(C.default,{disabled:v.formcode_province===e,variant:"contained",buttonColor:x.a,onClick:()=>g({thisValue:v.formcode_province,keys:"formcode_province"})},"บันทึก"),o.a.createElement(C.default,{variant:"text",buttonColor:x.a,onClick:()=>{E(!1),p({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},"ยกเลิก")):o.a.createElement(i.a,null,e.formcode&&e.formcode.province?e.formcode.province:"-")),o.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},o.a.createElement(i.a,{style:{width:100}},"หมายเลข"),b?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,value:`${v.formcode_number}`,type:"number",onChange:e=>p({...v,formcode_number:e.target.value})}),o.a.createElement(C.default,{disabled:v.formcode_number===e,variant:"contained",buttonColor:x.a,onClick:()=>g({thisValue:v.formcode_number,keys:"formcode_number"})},"บันทึก"),o.a.createElement(C.default,{variant:"text",buttonColor:x.a,onClick:()=>{E(!1),p({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},"ยกเลิก")):o.a.createElement(i.a,null,e.formcode&&e.formcode.number?e.formcode.number:"-")),o.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},o.a.createElement(i.a,{style:{width:100}},"ร้านค้า"),b?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(u.a,Object.assign({label:"ขายบนร้านค้า",style:{marginRight:4,...1===v.boarddisplay&&{color:"white"}}},0===v.boarddisplay&&{variant:"outlined"},1===v.boarddisplay&&{color:"primary"},{onClick:()=>{p({...v,boarddisplay:1}),g({thisValue:1,keys:"boarddisplay"})}})),o.a.createElement(u.a,Object.assign({label:"ไม่ได้ขายบนร้านค้า",style:{...0===v.boarddisplay&&{color:"white"}}},1===v.boarddisplay&&{variant:"outlined"},0===v.boarddisplay&&{color:"primary"},{onClick:()=>{p({...v,boarddisplay:0}),g({thisValue:0,keys:"boarddisplay"})}}))):o.a.createElement(u.a,Object.assign({label:1===e.boarddisplay?"แสดงบนร้านค้า":"ไม่แสดงบนร้านค้า"},0===e.boarddisplay&&{variant:"outlined"},1===e.boarddisplay&&{color:"primary",style:{color:"white"}}))),o.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},o.a.createElement(i.a,{style:{width:100}},"การขาย"),b?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(u.a,Object.assign({label:"ขายต่อ",style:{marginRight:4,...0===v.endofsale&&{color:"white"}}},1===v.endofsale&&{variant:"outlined"},0===v.endofsale&&{color:"primary"},{onClick:()=>{p({...v,endofsale:0}),g({thisValue:0,keys:"endofsale"})}})),o.a.createElement(u.a,Object.assign({label:"จบการขาย",style:{...1===v.endofsale&&{color:"white"}}},0===v.endofsale&&{variant:"outlined"},1===v.endofsale&&{color:"primary"},{onClick:()=>{p({...v,endofsale:1}),g({thisValue:1,keys:"endofsale"})}}))):o.a.createElement(u.a,Object.assign({label:1===e.endofsale?"จบการขายแล้ว":"กำลังขาย"},1===e.endofsale&&{variant:"outlined"},0===e.endofsale&&{color:"primary",style:{color:"white"}}))),b&&o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement(C.default,{buttonColor:_.a,variant:"contained",onClick:()=>{E(!1),p({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},"จบการแก้ไข")))},S=({value:e})=>{const t=j(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:u,_onEnter:f,realtimeAccess:y}=Object(n.useContext)(s.a),[b,E]=Object(n.useState)(!1),[v,p]=Object(n.useState)(e);async function g(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,business_name:v}});l(e.csrf),E(!1),c(),y()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement(i.a,{variant:"h6"},"ชิ่อบริษัท",o.a.createElement(m.a,{className:t.editButton,onClick:()=>E(e=>!e)},o.a.createElement(h.a,{fontSize:"small"}))),b?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,autoFocus:b,value:v,onChange:e=>p(e.target.value),onKeyPress:f(g)}),o.a.createElement(C.default,{disabled:v===e,variant:"contained",buttonColor:x.a,onClick:g},"บันทึก"),o.a.createElement(C.default,{variant:"text",buttonColor:x.a,onClick:()=>{E(!1),p(e)}},"ยกเลิก")):o.a.createElement(i.a,null,e))},B=({remain:e,total:t})=>{const a=j(),{csrf:l,setCsrf:r,_xhrPost:c,getGoodsDetail:u,detail:f,_onEnter:y,realtimeAccess:b}=Object(n.useContext)(s.a),[E,v]=Object(n.useState)(!1),[p,g]=Object(n.useState)("0");async function _(){const e=await c({csrf:l,url:"abusinesssystem",body:{action:"form_edit",formid:f.formid,accessremain:parseInt(p)}});v(!1),r(e.csrf),u(),b()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},o.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},"สิทธิการเข้าชม"),o.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},`${e}/${t}`,o.a.createElement(m.a,{className:a.editButton,onClick:()=>v(e=>!e)},o.a.createElement(h.a,{fontSize:"small"})))),o.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},o.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},E?"เพิ่มจำนวน":"เหลือ"),E?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,autoFocus:E,value:p,type:"number",onChange:e=>g(e.target.value),onKeyPress:y(_)}),o.a.createElement(C.default,{disabled:p===e,variant:"contained",buttonColor:x.a,onClick:_},"บันทึก"),o.a.createElement(C.default,{variant:"text",buttonColor:x.a,onClick:()=>{v(!1),g(e)}},"ยกเลิก")):o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{style:{marginRight:24}},e),o.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},"ทั้งหมด"),o.a.createElement(i.a,null,t))))},P=({value:e})=>{const t=j(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:u,_onEnter:f,realtimeAccess:y}=Object(n.useContext)(s.a),[b,E]=Object(n.useState)(!1),[v,p]=Object(n.useState)(e);async function g(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,price:v}});E(!1),l(e.csrf),c(),y()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},o.a.createElement(i.a,{variant:"h6",style:{marginRight:48}},"ราคาเข้าชม"),b?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,autoFocus:b,value:v,type:"number",onChange:e=>p(e.target.value),onKeyPress:f(g)}),o.a.createElement(C.default,{disabled:v===e,variant:"contained",buttonColor:x.a,onClick:g},"บันทึก"),o.a.createElement(C.default,{variant:"text",buttonColor:x.a,onClick:()=>{E(!1),p(e)}},"ยกเลิก")):o.a.createElement(i.a,null,""===e?"-":e," บาท",o.a.createElement(m.a,{className:t.editButton,onClick:()=>E(e=>!e)},o.a.createElement(h.a,{fontSize:"small"})))))},R=({value:e})=>{j();const{csrf:t,setCsrf:a,_xhrPost:l,getGoodsDetail:r,detail:c,_onEnter:m,realtimeAccess:u}=Object(n.useContext)(s.a),[f,y]=Object(n.useState)(!1),[b,E]=Object(n.useState)(e);async function v(){const e=await l({csrf:t,url:"abusinesssystem",body:{action:"form_edit",formid:c.formid,location:b}});y(!1),a(e.csrf),r(),u()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement(i.a,{variant:"h6"},"สถานที่"),f?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,autoFocus:f,value:b,onChange:e=>E(e.target.value),onKeyPress:m(v)}),o.a.createElement(C.default,{disabled:b===e,variant:"contained",buttonColor:x.a,onClick:v},"บันทึก"),o.a.createElement(C.default,{variant:"text",buttonColor:x.a,onClick:()=>{y(!1),E(e)}},"ยกเลิก")):o.a.createElement(i.a,null,e))},D=({appointment:e,auctiondate:t})=>{const a=j(),{csrf:l,setCsrf:r,_xhrPost:c,getGoodsDetail:d,detail:u,_dateToString:f,_dateToAPI:y,realtimeAccess:b}=Object(n.useContext)(s.a),[E,v]=Object(n.useState)({appointment:!1,auctiondate:!1});async function p({date:e,keys:t}){const a=await c({csrf:l,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,[t]:y(e)}});r(a.csrf),d(),v({...E,[t]:!1}),b()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(i.a,{className:a.dateText,variant:"h6"},"วันนัดดูสินค้า",o.a.createElement(m.a,{className:a.editButton,onClick:()=>v(e=>({...e,appointment:!e.appointment}))},o.a.createElement(h.a,{fontSize:"small"}))),o.a.createElement("div",{style:{width:16}}),o.a.createElement(i.a,{className:a.dateText,variant:"h6"},"วันประมูล",o.a.createElement(m.a,{className:a.editButton,onClick:()=>v(e=>({...e,auctiondate:!e.auctiondate}))},o.a.createElement(h.a,{fontSize:"small"})))),o.a.createElement("div",{style:{display:"flex"}},E.appointment?o.a.createElement(k.a,{className:a.dateText,clearable:!0,size:"small",fullWidth:!0,inputVariant:"outlined",clearLabel:"รีเซ็ต",okLabel:"ตกลง",cancelLabel:"ยกเลิก",value:e,minDateMessage:"",onChange:e=>p({date:e,keys:"appointment"}),labelFunc:()=>e?f(new Date(e)):"เลือกวันที่"}):o.a.createElement(i.a,{className:a.dateText},f(new Date(e))),o.a.createElement("div",{style:{width:16}}),E.auctiondate?o.a.createElement(k.a,{className:a.dateText,clearable:!0,size:"small",fullWidth:!0,inputVariant:"outlined",clearLabel:"รีเซ็ต",okLabel:"ตกลง",cancelLabel:"ยกเลิก",value:t,minDateMessage:"",onChange:e=>p({date:e,keys:"auctiondate"}),labelFunc:()=>t?f(new Date(t)):"เลือกวันที่"}):o.a.createElement(i.a,{className:a.dateText},f(new Date(t)))))},N=({value:e})=>{const t=j(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:d,businessForm:u,realtimeAccess:p}=Object(n.useContext)(s.a),[g,_]=Object(n.useState)(!1),[k,w]=Object(n.useState)(e);return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement(i.a,{variant:"h6"},"ตำแหน่ง",o.a.createElement(m.a,{className:t.editButton,onClick:()=>_(e=>!e)},o.a.createElement(h.a,{fontSize:"small"}))),o.a.createElement(i.a,null,e),o.a.createElement(O,{open:g,onClose:()=>{_(!1),w(e)},title:"แก้ไขตำแหน่ง"},o.a.createElement(f.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},o.a.createElement(y.a,{component:"legend"},"ตำแหน่ง"),o.a.createElement(b.a,{value:k,onChange:e=>w(e.target.value)},u.position.map((e,t)=>o.a.createElement(E.a,{key:e,value:e,control:o.a.createElement(v.a,{color:"primary"}),label:e})))),o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement(C.default,{variant:"text",buttonColor:x.a,onClick:()=>{_(!1),w(e)},style:{margin:8}},"ยกเลิก"),o.a.createElement(C.default,{disabled:k===e,variant:"contained",buttonColor:x.a,onClick:async function(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,position:k}});_(!1),l(e.csrf),c(),p()},style:{margin:8}},"บันทึก"))))},z=({value:e})=>{const t=j(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:u,businessForm:b,_onEnter:v,realtimeAccess:g}=Object(n.useContext)(s.a),[_,k]=Object(n.useState)(!1),[w,S]=Object(n.useState)(e.transport),[B,P]=Object(n.useState)("none"===e.etc?"":e.etc),R=e=>{const t=[...w];e.target.checked?(t.push(e.target.value),S(t),P(B)):(S(t.filter(t=>t!==(""===e.target.value?"etc":e.target.value))),P(B))};function D(){k(!1),S(e.transport),P("none"===e.etc?"":e.etc)}async function N(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,transport:w,...w.some(e=>"etc"===e)&&{transetc:B}}});k(!1),l(e.csrf),c(),g()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement(i.a,{variant:"h6"},"รถที่ใช้ขนส่ง",o.a.createElement(m.a,{className:t.editButton,onClick:()=>k(e=>!e)},o.a.createElement(h.a,{fontSize:"small"}))),e.transport.filter(e=>"etc"!==e).map(e=>o.a.createElement(i.a,{key:e},e)),"none"!==e.etc&&o.a.createElement(i.a,null,e.etc),0===e.transport.filter(e=>"etc"!==e).length&&"none"===e.etc&&o.a.createElement(i.a,null,"ไม่มีรถที่ใช้ขนส่ง"),o.a.createElement(O,{open:_,onClose:D,title:"แก้ไขรถที่ใช้ขนส่ง"},o.a.createElement(f.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},o.a.createElement(y.a,{component:"legend"},"รถที่ต้องการใช้ขนส่ง"),b.transport.map((e,t)=>o.a.createElement(E.a,{key:e,value:e,control:o.a.createElement(p.a,{checked:w.some(t=>t===e),color:"primary",onChange:R}),label:e})),w.some(e=>"etc"===e)?o.a.createElement("div",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center",marginLeft:-11,marginRight:16,verticalAlign:"middle"}},o.a.createElement(p.a,{checked:w.some(e=>"etc"===e),color:"primary",onChange:R}),o.a.createElement(d.a,{fullWidth:!0,autoFocus:"none"!==B,name:"transetc",label:"อื่นๆ",size:"small",value:B,onChange:e=>P(e.target.value),onKeyPress:v(N)})):o.a.createElement(E.a,{value:"etc",control:o.a.createElement(p.a,{checked:w.some(e=>"etc"===e),color:"primary",onChange:R}),label:"อื่นๆ"})),o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement(C.default,{variant:"text",buttonColor:x.a,onClick:D,style:{margin:8}},"ยกเลิก"),o.a.createElement(C.default,{variant:"contained",buttonColor:x.a,onClick:N,style:{margin:8}},"บันทึก"))))},F=({value:e})=>{const t=j(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:u,businessForm:b,_onEnter:v,realtimeAccess:g}=Object(n.useContext)(s.a),[_,k]=Object(n.useState)(!1),[w,S]=Object(n.useState)(e.document),[B,P]=Object(n.useState)("none"===e.etc?"":e.etc),R=e=>{const t=[...w];e.target.checked?(t.push(e.target.value),S(t),P(B)):(S(t.filter(t=>t!==(""===e.target.value?"etc":e.target.value))),P(B))};function D(){k(!1),S(e.document),P("none"===e.etc?"":e.etc)}async function N(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,document:w,...w.some(e=>"etc"===e)&&{docsetc:B}}});k(!1),l(e.csrf),c(),g()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement(i.a,{variant:"h6"},"เอกสาร",o.a.createElement(m.a,{className:t.editButton,onClick:()=>k(e=>!e)},o.a.createElement(h.a,{fontSize:"small"}))),e.document.filter(e=>"etc"!==e).map(e=>o.a.createElement(i.a,{key:e},e)),"none"!==e.etc&&o.a.createElement(i.a,null,e.etc),0===e.document.filter(e=>"etc"!==e).length&&"none"===e.etc&&o.a.createElement(i.a,null,"ไม่มีเอกสาร"),o.a.createElement(O,{open:_,onClose:D,title:"แก้ไขรถที่ใช้ขนส่ง"},o.a.createElement(f.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},o.a.createElement(y.a,{component:"legend"},"รถที่ต้องการใช้ขนส่ง"),b.document.map((e,t)=>o.a.createElement(E.a,{key:e,value:e,control:o.a.createElement(p.a,{checked:w.some(t=>t===e),color:"primary",onChange:R}),label:e})),w.some(e=>"etc"===e)?o.a.createElement("div",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center",marginLeft:-11,marginRight:16,verticalAlign:"middle"}},o.a.createElement(p.a,{checked:w.some(e=>"etc"===e),color:"primary",onChange:R}),o.a.createElement(d.a,{fullWidth:!0,autoFocus:"none"!==B,name:"docsetc",label:"อื่นๆ",size:"small",value:B,onChange:e=>P(e.target.value),onKeyPress:v(N)})):o.a.createElement(E.a,{value:"etc",control:o.a.createElement(p.a,{checked:w.some(e=>"etc"===e),color:"primary",onChange:R}),label:"อื่นๆ"})),o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement(C.default,{variant:"text",buttonColor:x.a,onClick:D,style:{margin:8}},"ยกเลิก"),o.a.createElement(C.default,{variant:"contained",buttonColor:x.a,onClick:N,style:{margin:8}},"บันทึก"))))},W=({value:e})=>{const t=j(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:u,_onEnter:f,realtimeAccess:y}=Object(n.useContext)(s.a),[b,E]=Object(n.useState)(!1),[v,p]=Object(n.useState)(e);return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement(i.a,{variant:"h6"},"เงื่อนไขการขาย",o.a.createElement(m.a,{className:t.editButton,onClick:()=>E(e=>!e)},o.a.createElement(h.a,{fontSize:"small"}))),b?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,autoFocus:b,value:v,variant:"outlined",multiline:!0,rowsMax:"10",onChange:e=>p(e.target.value)}),o.a.createElement(C.default,{disabled:v===e,variant:"contained",buttonColor:x.a,onClick:async function(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,sale_condition:v}});l(e.csrf),E(!1),c(),y()},style:{marginBottom:"auto"}},"บันทึก"),o.a.createElement(C.default,{variant:"text",buttonColor:x.a,onClick:()=>{E(!1),p(e)},style:{marginBottom:"auto"}},"ยกเลิก")):o.a.createElement(i.a,{style:{whiteSpace:"pre-line"}},e))};t.default=({detail:e})=>{j();const{csrf:t,setCsrf:a,_xhrPost:l,_onLocalhostFn:r}=Object(n.useContext)(s.a),[c,i]=Object(n.useState)(null),[m,d]=Object(n.useState)(null),u={...Object(n.useContext)(s.a),getGoodsDetail:f,detail:e,businessForm:m};async function f(){const n=await l({csrf:t,url:"aloadbusiness",body:{action:"form_detail",formid:e.formid}});i(n.data);const o=await l({csrf:n.csrf,url:"aloadbusiness",body:{action:"business_form"}});a(o.csrf),d(o.data)}return Object(n.useEffect)(()=>{e&&f()},[e]),c&&m?o.a.createElement(s.a.Provider,{value:u},o.a.createElement("div",null,o.a.createElement(w,{value:c}),o.a.createElement(g.a,{style:{margin:"16px 0"}}),o.a.createElement(S,{value:c.business_name}),o.a.createElement(B,{remain:c.accessremain,total:c.accesstotal}),o.a.createElement(P,{value:c.price}),o.a.createElement(R,{value:c.location}),o.a.createElement(D,{appointment:c.appointment,auctiondate:c.auctiondate}),o.a.createElement(N,{value:c.position}),o.a.createElement(z,{value:c.transport}),o.a.createElement(F,{value:c.document}),o.a.createElement(W,{value:c.sale_condition}))):o.a.createElement("div",null)}},562:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(26),r=a.n(l),c=a(104),s=a(31),i=a(162),m=a(137),d=a(149),u=a(260),f=a(586),y=a(148),b=a(570),E=a(281),v=a(563),p=a(564),g=a(142),h=a(161),C=a(39),x=a(38),_=a(596);const k=r()({loader:()=>Promise.resolve().then(a.bind(null,125)),loading:()=>null}),j=r()({loader:()=>Promise.all([a.e(0),a.e(35)]).then(a.bind(null,134)),loading:()=>null}),O=Object(c.a)(e=>({editButton:{padding:6,marginBottom:6,marginLeft:8},dateText:{width:"50%"}})),w=({value:e})=>{const t=O(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:f}=Object(n.useContext)(s.a),[y,b]=Object(n.useState)(!1),[E,v]=Object(n.useState)({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""});async function p({value:e,keys:t}){const n=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:f.formid,[t]:e}});l(n.csrf),c()}return o.a.createElement("div",null,o.a.createElement(i.a,{style:{marginBottom:12},variant:"h6"},"ตั้งค่า",!y&&o.a.createElement(m.a,{className:t.editButton,onClick:()=>{b(!0),v({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},o.a.createElement(h.a,{fontSize:"small"}))),o.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},o.a.createElement(i.a,{style:{width:100}},"รหัสสินค้า"),y?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,value:`${E.formcode_sector}`,type:"number",onChange:e=>v({...E,formcode_sector:e.target.value})}),o.a.createElement(k,{disabled:E.formcode_sector===e,variant:"contained",buttonColor:C.a,onClick:()=>p({value:E.formcode_sector,keys:"formcode_sector"})},"บันทึก"),o.a.createElement(k,{variant:"text",buttonColor:C.a,onClick:()=>{b(!1),v({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},"ยกเลิก")):o.a.createElement(i.a,null,e.formcode&&e.formcode.sector?e.formcode.sector:"-")),o.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},o.a.createElement(i.a,{style:{width:100}},"รหัสจังหวัด"),y?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,value:`${E.formcode_province}`,type:"number",onChange:e=>v({...E,formcode_province:e.target.value})}),o.a.createElement(k,{disabled:E.formcode_province===e,variant:"contained",buttonColor:C.a,onClick:()=>p({value:E.formcode_province,keys:"formcode_province"})},"บันทึก"),o.a.createElement(k,{variant:"text",buttonColor:C.a,onClick:()=>{b(!1),v({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},"ยกเลิก")):o.a.createElement(i.a,null,e.formcode&&e.formcode.province?e.formcode.province:"-")),o.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},o.a.createElement(i.a,{style:{width:100}},"หมายเลข"),y?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,value:`${E.formcode_number}`,type:"number",onChange:e=>v({...E,formcode_number:e.target.value})}),o.a.createElement(k,{disabled:E.formcode_number===e,variant:"contained",buttonColor:C.a,onClick:()=>p({value:E.formcode_number,keys:"formcode_number"})},"บันทึก"),o.a.createElement(k,{variant:"text",buttonColor:C.a,onClick:()=>{b(!1),v({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},"ยกเลิก")):o.a.createElement(i.a,null,e.formcode&&e.formcode.number?e.formcode.number:"-")),o.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},o.a.createElement(i.a,{style:{width:100}},"ร้านค้า"),y?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(u.a,Object.assign({label:"ขายบนร้านค้า",style:{marginRight:4,...1===E.boarddisplay&&{color:"white"}}},0===E.boarddisplay&&{variant:"outlined"},1===E.boarddisplay&&{color:"primary"},{onClick:()=>{v({...E,boarddisplay:1}),p({value:1,keys:"boarddisplay"})}})),o.a.createElement(u.a,Object.assign({label:"ไม่ได้ขายบนร้านค้า",style:{...0===E.boarddisplay&&{color:"white"}}},1===E.boarddisplay&&{variant:"outlined"},0===E.boarddisplay&&{color:"primary"},{onClick:()=>{v({...E,boarddisplay:0}),p({value:0,keys:"boarddisplay"})}}))):o.a.createElement(u.a,Object.assign({label:1===e.boarddisplay?"แสดงบนร้านค้า":"ไม่แสดงบนร้านค้า"},0===e.boarddisplay&&{variant:"outlined"},1===e.boarddisplay&&{color:"primary",style:{color:"white"}}))),o.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},o.a.createElement(i.a,{style:{width:100}},"การขาย"),y?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(u.a,Object.assign({label:"ขายต่อ",style:{marginRight:4,...0===E.endofsale&&{color:"white"}}},1===E.endofsale&&{variant:"outlined"},0===E.endofsale&&{color:"primary"},{onClick:()=>{v({...E,endofsale:0}),p({value:0,keys:"endofsale"})}})),o.a.createElement(u.a,Object.assign({label:"จบการขาย",style:{...1===E.endofsale&&{color:"white"}}},0===E.endofsale&&{variant:"outlined"},1===E.endofsale&&{color:"primary"},{onClick:()=>{v({...E,endofsale:1}),p({value:1,keys:"endofsale"})}}))):o.a.createElement(u.a,Object.assign({label:1===e.endofsale?"จบการขายแล้ว":"กำลังขาย"},1===e.endofsale&&{variant:"outlined"},0===e.endofsale&&{color:"primary",style:{color:"white"}}))),y&&o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement(k,{buttonColor:x.a,variant:"contained",onClick:()=>{b(!1),v({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},"จบการแก้ไข")))},S=({value:e})=>{const t=O(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:u,_onEnter:f}=Object(n.useContext)(s.a),[y,b]=Object(n.useState)(!1),[E,v]=Object(n.useState)(e);async function p(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,business_name:E}});l(e.csrf),b(!1),c()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement(i.a,{variant:"h6"},"ชิ่อบริษัท",o.a.createElement(m.a,{className:t.editButton,onClick:()=>b(e=>!e)},o.a.createElement(h.a,{fontSize:"small"}))),y?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,autoFocus:y,value:E,onChange:e=>v(e.target.value),onKeyPress:f(p)}),o.a.createElement(k,{disabled:E===e,variant:"contained",buttonColor:C.a,onClick:p},"บันทึก"),o.a.createElement(k,{variant:"text",buttonColor:C.a,onClick:()=>{b(!1),v(e)}},"ยกเลิก")):o.a.createElement(i.a,null,e))},B=({remain:e,total:t})=>{const a=O(),{csrf:l,setCsrf:r,_xhrPost:c,getGoodsDetail:u,detail:f,_onEnter:y}=Object(n.useContext)(s.a),[b,E]=Object(n.useState)(!1),[v,p]=Object(n.useState)("0");async function g(){const e=await c({csrf:l,url:"abusinesssystem",body:{action:"form_edit",formid:f.formid,accessremain:parseInt(v)}});E(!1),r(e.csrf),u()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},o.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},"สิทธิการเข้าชม"),o.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},`${e}/${t}`,o.a.createElement(m.a,{className:a.editButton,onClick:()=>E(e=>!e)},o.a.createElement(h.a,{fontSize:"small"})))),o.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},o.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},b?"เพิ่มจำนวน":"เหลือ"),b?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,autoFocus:b,value:v,type:"number",onChange:e=>p(e.target.value),onKeyPress:y(g)}),o.a.createElement(k,{disabled:v===e,variant:"contained",buttonColor:C.a,onClick:g},"บันทึก"),o.a.createElement(k,{variant:"text",buttonColor:C.a,onClick:()=>{E(!1),p(e)}},"ยกเลิก")):o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{style:{marginRight:24}},e),o.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},"ทั้งหมด"),o.a.createElement(i.a,null,t))))},P=({value:e})=>{const t=O(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:u,_onEnter:f}=Object(n.useContext)(s.a),[y,b]=Object(n.useState)(!1),[E,v]=Object(n.useState)(e);async function p(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,price:E}});b(!1),l(e.csrf),c()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},o.a.createElement(i.a,{variant:"h6",style:{marginRight:48}},"ราคาเข้าชม"),y?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,autoFocus:y,value:E,type:"number",onChange:e=>v(e.target.value),onKeyPress:f(p)}),o.a.createElement(k,{disabled:E===e,variant:"contained",buttonColor:C.a,onClick:p},"บันทึก"),o.a.createElement(k,{variant:"text",buttonColor:C.a,onClick:()=>{b(!1),v(e)}},"ยกเลิก")):o.a.createElement(i.a,null,""===e?"-":e," บาท",o.a.createElement(m.a,{className:t.editButton,onClick:()=>b(e=>!e)},o.a.createElement(h.a,{fontSize:"small"})))))},R=({value:e})=>{O();const{csrf:t,setCsrf:a,_xhrPost:l,getGoodsDetail:r,detail:c,_onEnter:m}=Object(n.useContext)(s.a),[u,f]=Object(n.useState)(!1),[y,b]=Object(n.useState)(e);async function E(){const e=await l({csrf:t,url:"abusinesssystem",body:{action:"form_edit",formid:c.formid,location:y}});f(!1),a(e.csrf),r()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement(i.a,{variant:"h6"},"สถานที่"),u?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,autoFocus:u,value:y,onChange:e=>b(e.target.value),onKeyPress:m(E)}),o.a.createElement(k,{disabled:y===e,variant:"contained",buttonColor:C.a,onClick:E},"บันทึก"),o.a.createElement(k,{variant:"text",buttonColor:C.a,onClick:()=>{f(!1),b(e)}},"ยกเลิก")):o.a.createElement(i.a,null,e))},D=({appointment:e,auctiondate:t})=>{const a=O(),{csrf:l,setCsrf:r,_xhrPost:c,getGoodsDetail:d,detail:u,_dateToString:f,_dateToAPI:y}=Object(n.useContext)(s.a),[b,E]=Object(n.useState)({appointment:!1,auctiondate:!1});async function v({date:e,keys:t}){const a=await c({csrf:l,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,[t]:y(e)}});r(a.csrf),d(),E({...b,[t]:!1})}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(i.a,{className:a.dateText,variant:"h6"},"วันนัดดูสินค้า",o.a.createElement(m.a,{className:a.editButton,onClick:()=>E(e=>({...e,appointment:!e.appointment}))},o.a.createElement(h.a,{fontSize:"small"}))),o.a.createElement("div",{style:{width:16}}),o.a.createElement(i.a,{className:a.dateText,variant:"h6"},"วันประมูล",o.a.createElement(m.a,{className:a.editButton,onClick:()=>E(e=>({...e,auctiondate:!e.auctiondate}))},o.a.createElement(h.a,{fontSize:"small"})))),o.a.createElement("div",{style:{display:"flex"}},b.appointment?o.a.createElement(_.a,{className:a.dateText,clearable:!0,size:"small",fullWidth:!0,inputVariant:"outlined",clearLabel:"รีเซ็ต",okLabel:"ตกลง",cancelLabel:"ยกเลิก",value:e,minDateMessage:"",onChange:e=>v({date:e,keys:"appointment"}),labelFunc:()=>e?f(new Date(e)):"เลือกวันที่"}):o.a.createElement(i.a,{className:a.dateText},f(new Date(e))),o.a.createElement("div",{style:{width:16}}),b.auctiondate?o.a.createElement(_.a,{className:a.dateText,clearable:!0,size:"small",fullWidth:!0,inputVariant:"outlined",clearLabel:"รีเซ็ต",okLabel:"ตกลง",cancelLabel:"ยกเลิก",value:t,minDateMessage:"",onChange:e=>v({date:e,keys:"auctiondate"}),labelFunc:()=>t?f(new Date(t)):"เลือกวันที่"}):o.a.createElement(i.a,{className:a.dateText},f(new Date(t)))))},N=({value:e})=>{const t=O(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:d,businessForm:u}=Object(n.useContext)(s.a),[p,g]=Object(n.useState)(!1),[x,_]=Object(n.useState)(e);return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement(i.a,{variant:"h6"},"ตำแหน่ง",o.a.createElement(m.a,{className:t.editButton,onClick:()=>g(e=>!e)},o.a.createElement(h.a,{fontSize:"small"}))),o.a.createElement(i.a,null,e),o.a.createElement(j,{open:p,onClose:()=>{g(!1),_(e)},title:"แก้ไขตำแหน่ง"},o.a.createElement(f.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},o.a.createElement(y.a,{component:"legend"},"ตำแหน่ง"),o.a.createElement(b.a,{value:x,onChange:e=>_(e.target.value)},u.position.map((e,t)=>o.a.createElement(E.a,{key:e,value:e,control:o.a.createElement(v.a,{color:"primary"}),label:e})))),o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement(k,{variant:"text",buttonColor:C.a,onClick:()=>{g(!1),_(e)},style:{margin:8}},"ยกเลิก"),o.a.createElement(k,{disabled:x===e,variant:"contained",buttonColor:C.a,onClick:async function(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,position:x}});g(!1),l(e.csrf),c()},style:{margin:8}},"บันทึก"))))},z=({value:e})=>{const t=O(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:u,businessForm:b,_onEnter:v}=Object(n.useContext)(s.a),[g,x]=Object(n.useState)(!1),[_,w]=Object(n.useState)(e.transport),[S,B]=Object(n.useState)("none"===e.etc?"":e.etc),P=e=>{const t=[..._];e.target.checked?(t.push(e.target.value),w(t),B(S)):(w(t.filter(t=>t!==(""===e.target.value?"etc":e.target.value))),B(S))};function R(){x(!1),w(e.transport),B("none"===e.etc?"":e.etc)}async function D(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,transport:_,..._.some(e=>"etc"===e)&&{transetc:S}}});x(!1),l(e.csrf),c()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement(i.a,{variant:"h6"},"รถที่ใช้ขนส่ง",o.a.createElement(m.a,{className:t.editButton,onClick:()=>x(e=>!e)},o.a.createElement(h.a,{fontSize:"small"}))),e.transport.filter(e=>"etc"!==e).map(e=>o.a.createElement(i.a,{key:e},e)),"none"!==e.etc&&o.a.createElement(i.a,null,e.etc),0===e.transport.filter(e=>"etc"!==e).length&&"none"===e.etc&&o.a.createElement(i.a,null,"ไม่มีรถที่ใช้ขนส่ง"),o.a.createElement(j,{open:g,onClose:R,title:"แก้ไขรถที่ใช้ขนส่ง"},o.a.createElement(f.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},o.a.createElement(y.a,{component:"legend"},"รถที่ต้องการใช้ขนส่ง"),b.transport.map((e,t)=>o.a.createElement(E.a,{key:e,value:e,control:o.a.createElement(p.a,{checked:_.some(t=>t===e),color:"primary",onChange:P}),label:e})),_.some(e=>"etc"===e)?o.a.createElement("div",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center",marginLeft:-11,marginRight:16,verticalAlign:"middle"}},o.a.createElement(p.a,{checked:_.some(e=>"etc"===e),color:"primary",onChange:P}),o.a.createElement(d.a,{fullWidth:!0,autoFocus:"none"!==S,name:"transetc",label:"อื่นๆ",size:"small",value:S,onChange:e=>B(e.target.value),onKeyPress:v(D)})):o.a.createElement(E.a,{value:"etc",control:o.a.createElement(p.a,{checked:_.some(e=>"etc"===e),color:"primary",onChange:P}),label:"อื่นๆ"})),o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement(k,{variant:"text",buttonColor:C.a,onClick:R,style:{margin:8}},"ยกเลิก"),o.a.createElement(k,{variant:"contained",buttonColor:C.a,onClick:D,style:{margin:8}},"บันทึก"))))},F=({value:e})=>{const t=O(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:u,businessForm:b,_onEnter:v}=Object(n.useContext)(s.a),[g,x]=Object(n.useState)(!1),[_,w]=Object(n.useState)(e.document),[S,B]=Object(n.useState)("none"===e.etc?"":e.etc),P=e=>{const t=[..._];e.target.checked?(t.push(e.target.value),w(t),B(S)):(w(t.filter(t=>t!==(""===e.target.value?"etc":e.target.value))),B(S))};function R(){x(!1),w(e.document),B("none"===e.etc?"":e.etc)}async function D(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,document:_,..._.some(e=>"etc"===e)&&{docsetc:S}}});x(!1),l(e.csrf),c()}return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement(i.a,{variant:"h6"},"เอกสาร",o.a.createElement(m.a,{className:t.editButton,onClick:()=>x(e=>!e)},o.a.createElement(h.a,{fontSize:"small"}))),e.document.filter(e=>"etc"!==e).map(e=>o.a.createElement(i.a,{key:e},e)),"none"!==e.etc&&o.a.createElement(i.a,null,e.etc),0===e.document.filter(e=>"etc"!==e).length&&"none"===e.etc&&o.a.createElement(i.a,null,"ไม่มีเอกสาร"),o.a.createElement(j,{open:g,onClose:R,title:"แก้ไขรถที่ใช้ขนส่ง"},o.a.createElement(f.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},o.a.createElement(y.a,{component:"legend"},"รถที่ต้องการใช้ขนส่ง"),b.document.map((e,t)=>o.a.createElement(E.a,{key:e,value:e,control:o.a.createElement(p.a,{checked:_.some(t=>t===e),color:"primary",onChange:P}),label:e})),_.some(e=>"etc"===e)?o.a.createElement("div",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center",marginLeft:-11,marginRight:16,verticalAlign:"middle"}},o.a.createElement(p.a,{checked:_.some(e=>"etc"===e),color:"primary",onChange:P}),o.a.createElement(d.a,{fullWidth:!0,autoFocus:"none"!==S,name:"docsetc",label:"อื่นๆ",size:"small",value:S,onChange:e=>B(e.target.value),onKeyPress:v(D)})):o.a.createElement(E.a,{value:"etc",control:o.a.createElement(p.a,{checked:_.some(e=>"etc"===e),color:"primary",onChange:P}),label:"อื่นๆ"})),o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement(k,{variant:"text",buttonColor:C.a,onClick:R,style:{margin:8}},"ยกเลิก"),o.a.createElement(k,{variant:"contained",buttonColor:C.a,onClick:D,style:{margin:8}},"บันทึก"))))},W=({value:e})=>{const t=O(),{csrf:a,setCsrf:l,_xhrPost:r,getGoodsDetail:c,detail:u,_onEnter:f}=Object(n.useContext)(s.a),[y,b]=Object(n.useState)(!1),[E,v]=Object(n.useState)(e);return o.a.createElement("div",{style:{marginBottom:12}},o.a.createElement(i.a,{variant:"h6"},"เงื่อนไขการขาย",o.a.createElement(m.a,{className:t.editButton,onClick:()=>b(e=>!e)},o.a.createElement(h.a,{fontSize:"small"}))),y?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d.a,{style:{marginRight:16},fullWidth:!0,autoFocus:y,value:E,variant:"outlined",multiline:!0,rowsMax:"10",onChange:e=>v(e.target.value)}),o.a.createElement(k,{disabled:E===e,variant:"contained",buttonColor:C.a,onClick:async function(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,sale_condition:E}});l(e.csrf),b(!1),c()},style:{marginBottom:"auto"}},"บันทึก"),o.a.createElement(k,{variant:"text",buttonColor:C.a,onClick:()=>{b(!1),v(e)},style:{marginBottom:"auto"}},"ยกเลิก")):o.a.createElement(i.a,{style:{whiteSpace:"pre-line"}},e))};t.default=({detail:e})=>{O();const{csrf:t,setCsrf:a,_xhrPost:l,_onLocalhostFn:r}=Object(n.useContext)(s.a),[c,i]=Object(n.useState)(null),[m,d]=Object(n.useState)(null),u={...Object(n.useContext)(s.a),getGoodsDetail:f,detail:e,businessForm:m};async function f(){const n=await l({csrf:t,url:"aloadbusiness",body:{action:"form_detail",formid:e.formid}});i(n.data);const o=await l({csrf:n.csrf,url:"aloadbusiness",body:{action:"business_form"}});a(o.csrf),d(o.data)}return Object(n.useEffect)(()=>{e&&f()},[e]),c&&m?o.a.createElement(s.a.Provider,{value:u},o.a.createElement("div",null,o.a.createElement(w,{value:c}),o.a.createElement(g.a,{style:{margin:"16px 0"}}),o.a.createElement(S,{value:c.business_name}),o.a.createElement(B,{remain:c.accessremain,total:c.accesstotal}),o.a.createElement(P,{value:c.price}),o.a.createElement(R,{value:c.location}),o.a.createElement(D,{appointment:c.appointment,auctiondate:c.auctiondate}),o.a.createElement(N,{value:c.position}),o.a.createElement(z,{value:c.transport}),o.a.createElement(F,{value:c.document}),o.a.createElement(W,{value:c.sale_condition}))):o.a.createElement("div",null)}}}]);