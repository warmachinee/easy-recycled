(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{124:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(10),r=a(20),s=a(137);t.default=({children:e,variant:t,buttonColor:a,light:n=!1,...c})=>{const i=Object(r.a)();function m(e){switch(e){case"text":return{color:a?a[600]:i.palette.text.primary,"&:hover":{backgroundColor:a?a[n?100:50]:i.palette.action.hover}};case"contained":return{color:a?i.palette.getContrastText(a[n?700:600]):i.palette.text.primary,backgroundColor:a?a[n?600:500]:i.palette.background.default,"&:hover":{backgroundColor:a?a[n?800:700]:i.palette.action.hover}};case"outlined":return{color:a?a[600]:i.palette.text.primary,border:`1px solid ${a?a[600]:i.palette.text.primary}`,"&:hover":{backgroundColor:a?a[n?100:50]:i.palette.action.hover}};default:return{color:i.palette.text.primary,"&:hover":{backgroundColor:i.palette.action.hover}}}}const d=Object(o.a)(e=>({root:{...m(t)}}))(s.a);return l.a.createElement(d,Object.assign({},c,{variant:t}),e)}},160:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(123);t.a=Object(o.a)(l.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create")},201:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(104),r=a(31),s=a(600),c=a(151);const i=Object(o.a)(e=>({option:{fontSize:15,"& > span":{marginRight:10,fontSize:18}}}));t.a=e=>{const t=i(),{district:a,province:o,setDistrict:m,setSubdistrict:d}=e,{csrf:u,setCsrf:f,_xhrGetP:y}=Object(n.useContext)(r.a),[b,E]=l.a.useState(!1),[p,g]=l.a.useState([]),v=b&&0===p.length;return l.a.useEffect(()=>{let e=!0;if(v)return(async()=>{const t=await y(`https://easyrecycle.ml/user/location?type=districts&provincesid=${o.id}`);f(t.csrf),e&&g(t.data)})(),()=>{e=!1}},[v,o]),l.a.useEffect(()=>{b||g([])},[b]),l.a.createElement(s.a,{style:{width:"100%",marginBottom:12},classes:{option:t.option},open:b,onOpen:()=>{E(!0)},onClose:()=>{E(!1)},value:a,getOptionSelected:(e,t)=>e.name===t.name,getOptionLabel:e=>e.name,options:p,loading:v,onChange:function(e,t){m(t),d(null)},noOptionsText:"ไม่มีเขต/อำเภอที่คุณค้นหา",renderInput:e=>l.a.createElement(c.a,Object.assign({},e,{label:"เขต/อำเภอ",variant:"outlined",size:"small",inputProps:{...e.inputProps,autoComplete:"new-password"}}))})}},202:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(104),r=a(31),s=a(600),c=a(151);const i=Object(o.a)(e=>({option:{fontSize:15,"& > span":{marginRight:10,fontSize:18}}}));t.a=e=>{const t=i(),{subdistrict:a,district:o,setSubdistrict:m}=e,{csrf:d,setCsrf:u,_xhrGetP:f}=Object(n.useContext)(r.a),[y,b]=l.a.useState(!1),[E,p]=l.a.useState([]),g=y&&0===E.length;return l.a.useEffect(()=>{let e=!0;if(g)return(async()=>{const t=await f(`https://easyrecycle.ml/user/location?type=subdistricts&districtsid=${o.id}`);u(t.csrf),e&&p(t.data)})(),()=>{e=!1}},[g,o]),l.a.useEffect(()=>{y||p([])},[y]),l.a.createElement(s.a,{style:{width:"100%",marginBottom:12},classes:{option:t.option},open:y,onOpen:()=>{b(!0)},onClose:()=>{b(!1)},value:a,getOptionSelected:(e,t)=>e.name===t.name,getOptionLabel:e=>e.name,options:E,loading:g,onChange:function(e,t){m(t)},noOptionsText:"ไม่มีตำบลที่คุณค้นหา",renderInput:e=>l.a.createElement(c.a,Object.assign({},e,{label:"ตำบล",variant:"outlined",size:"small",inputProps:{...e.inputProps,autoComplete:"new-password"}}))})}},203:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(104),r=a(31),s=a(600),c=a(151);const i=Object(o.a)(e=>({option:{fontSize:15,"& > span":{marginRight:10,fontSize:18}}}));t.a=e=>{const t=i(),{province:a,setProvince:o,setDistrict:m,setSubdistrict:d}=e,{csrf:u,setCsrf:f,_xhrGetP:y}=Object(n.useContext)(r.a),[b,E]=l.a.useState(!1),[p,g]=l.a.useState([]),v=b&&0===p.length;return l.a.useEffect(()=>{let e=!0;if(v)return(async()=>{const t=await y("https://easyrecycle.ml/user/location?type=provinces");f(t.csrf),e&&g(t.data)})(),()=>{e=!1}},[v]),l.a.useEffect(()=>{b||g([])},[b]),l.a.createElement(s.a,{style:{width:"100%",marginBottom:12},classes:{option:t.option},open:b,onOpen:()=>{E(!0)},onClose:()=>{E(!1)},value:a,getOptionSelected:(e,t)=>e.name===t.name,getOptionLabel:e=>e.name,options:p,loading:v,onChange:function(e,t){o(t),m(null),d(null)},noOptionsText:"ไม่มีจังหวัดที่คุณค้นหา",renderInput:e=>l.a.createElement(c.a,Object.assign({},e,{label:"จังหวัด",variant:"outlined",size:"small",inputProps:{...e.inputProps,autoComplete:"new-password"}}))})}},272:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(26),r=a.n(o),s=a(104),c=a(31),i=a(165),m=a(138),d=a(229),u=a(151),f=a(622),y=a(150),b=a(353),E=a(245),p=a(352),g=a(601),v=a(143),h=a(160),C=a(124),x=a(38),O=a(39),k=a(599),j=a(201),S=a(202),_=a(203);const w=Object(s.a)(e=>({editButton:{padding:6,marginBottom:6,marginLeft:8},dateText:{width:"50%"}})),B=r()({loader:()=>Promise.all([a.e(0),a.e(37)]).then(a.bind(null,133)),loading:()=>null}),P=({value:e})=>{const t=w(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:u,realtimeEndOfSale:f}=Object(n.useContext)(c.a),[y,b]=Object(n.useState)(!1),[E,p]=Object(n.useState)({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""});async function g({thisValue:t,keys:n}){const l=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,[n]:t}});o(l.csrf),s(),"endofsale"===n&&f(e)}return l.a.createElement("div",null,l.a.createElement(i.a,{style:{marginBottom:12},variant:"h6"},"ตั้งค่า",!y&&l.a.createElement(m.a,{className:t.editButton,onClick:()=>{b(!0),p({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},l.a.createElement(h.a,{fontSize:"small"}))),l.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},l.a.createElement(i.a,{style:{width:100}},"ร้านค้า"),y?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(d.a,Object.assign({label:"ขายบนร้านค้า",style:{marginRight:4,...1===E.boarddisplay&&{color:"white"}}},0===E.boarddisplay&&{variant:"outlined"},1===E.boarddisplay&&{color:"primary"},{onClick:()=>{p({...E,boarddisplay:1}),g({thisValue:1,keys:"boarddisplay"})}})),l.a.createElement(d.a,Object.assign({label:"ไม่ได้ขายบนร้านค้า",style:{...0===E.boarddisplay&&{color:"white"}}},1===E.boarddisplay&&{variant:"outlined"},0===E.boarddisplay&&{color:"primary"},{onClick:()=>{p({...E,boarddisplay:0}),g({thisValue:0,keys:"boarddisplay"})}}))):l.a.createElement(d.a,Object.assign({label:1===e.boarddisplay?"แสดงบนร้านค้า":"ไม่แสดงบนร้านค้า"},0===e.boarddisplay&&{variant:"outlined"},1===e.boarddisplay&&{color:"primary",style:{color:"white"}}))),l.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},l.a.createElement(i.a,{style:{width:100}},"การขาย"),y?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(d.a,Object.assign({label:"ขายต่อ",style:{marginRight:4,...0===E.endofsale&&{color:"white"}}},1===E.endofsale&&{variant:"outlined"},0===E.endofsale&&{color:"primary"},{onClick:()=>{p({...E,endofsale:0}),g({thisValue:0,keys:"endofsale"})}})),l.a.createElement(d.a,Object.assign({label:"จบการขาย",style:{...1===E.endofsale&&{color:"white"}}},0===E.endofsale&&{variant:"outlined"},1===E.endofsale&&{color:"primary"},{onClick:()=>{p({...E,endofsale:1}),g({thisValue:1,keys:"endofsale"})}}))):l.a.createElement(d.a,Object.assign({label:1===e.endofsale?"จบการขายแล้ว":"กำลังขาย"},1===e.endofsale&&{variant:"outlined"},0===e.endofsale&&{color:"primary",style:{color:"white"}}))),y&&l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(C.default,{buttonColor:x.a,variant:"contained",onClick:()=>{b(!1),p({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},"จบการแก้ไข")))},z=({value:e})=>{const t=w(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,_onEnter:f,realtimeAccess:y}=Object(n.useContext)(c.a),[b,E]=Object(n.useState)(!1),[p,g]=Object(n.useState)(e);async function v(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,business_name:p}});o(e.csrf),E(!1),s(),y()}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(i.a,{variant:"h6"},"ชิ่อบริษัท",l.a.createElement(m.a,{className:t.editButton,onClick:()=>E(e=>!e)},l.a.createElement(h.a,{fontSize:"small"}))),b?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(u.a,{style:{marginRight:16},fullWidth:!0,autoFocus:b,value:p,onChange:e=>g(e.target.value),onKeyPress:f(v)}),l.a.createElement(C.default,{disabled:p===e,variant:"contained",buttonColor:O.a,onClick:v},"บันทึก"),l.a.createElement(C.default,{variant:"text",buttonColor:O.a,onClick:()=>{E(!1),g(e)}},"ยกเลิก")):l.a.createElement(i.a,null,e))},D=({remain:e,total:t})=>{const a=w(),{csrf:o,setCsrf:r,_xhrPost:s,getGoodsDetail:d,detail:f,_onEnter:y,realtimeAccess:b}=Object(n.useContext)(c.a),[E,p]=Object(n.useState)(!1),[g,v]=Object(n.useState)("0");async function x(){const e=await s({csrf:o,url:"abusinesssystem",body:{action:"form_edit",formid:f.formid,accessremain:parseInt(g)}});p(!1),r(e.csrf),d(),b()}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},l.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},"สิทธิการเข้าชม"),l.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},`${e}/${t}`,l.a.createElement(m.a,{className:a.editButton,onClick:()=>p(e=>!e)},l.a.createElement(h.a,{fontSize:"small"})))),l.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},l.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},E?"เพิ่มจำนวน":"เหลือ"),E?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(u.a,{style:{marginRight:16},fullWidth:!0,autoFocus:E,value:g,type:"number",onChange:e=>v(e.target.value),onKeyPress:y(x)}),l.a.createElement(C.default,{disabled:g===e,variant:"contained",buttonColor:O.a,onClick:x},"บันทึก"),l.a.createElement(C.default,{variant:"text",buttonColor:O.a,onClick:()=>{p(!1),v(e)}},"ยกเลิก")):l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,{style:{marginRight:24}},e),l.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},"ทั้งหมด"),l.a.createElement(i.a,null,t))))},N=({value:e})=>{const t=w(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,_onEnter:f,realtimeAccess:y}=Object(n.useContext)(c.a),[b,E]=Object(n.useState)(!1),[p,g]=Object(n.useState)(e);async function v(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,price:p}});E(!1),o(e.csrf),s(),y()}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},l.a.createElement(i.a,{variant:"h6",style:{marginRight:48}},"ราคาเข้าชม"),b?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(u.a,{style:{marginRight:16},fullWidth:!0,autoFocus:b,value:p,type:"number",onChange:e=>g(e.target.value),onKeyPress:f(v)}),l.a.createElement(C.default,{disabled:p===e,variant:"contained",buttonColor:O.a,onClick:v},"บันทึก"),l.a.createElement(C.default,{variant:"text",buttonColor:O.a,onClick:()=>{E(!1),g(e)}},"ยกเลิก")):l.a.createElement(i.a,null,""===e?"-":e," บาท",l.a.createElement(m.a,{className:t.editButton,onClick:()=>E(e=>!e)},l.a.createElement(h.a,{fontSize:"small"})))))},R=({value:e})=>{const t=w(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,_onEnter:u,realtimeAccess:f,_parseLocation:y}=Object(n.useContext)(c.a),[b,E]=Object(n.useState)(!1),[p,g]=Object(n.useState)(e),[v,x]=Object(n.useState)(y(e).province),[k,B]=Object(n.useState)(y(e).district),[P,z]=Object(n.useState)(y(e).subdistrict),D={province:v,setProvince:x,district:k,setDistrict:B,subdistrict:P,setSubdistrict:z};return l.a.useEffect(()=>{(v||k||P)&&g(JSON.stringify({province:v,district:k,subdistrict:P}))},[v,k,P]),l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(i.a,{variant:"h6"},"เขตพิ้นที่รับเศษวัสดุเหลือใช้",l.a.createElement(m.a,{className:t.editButton,onClick:()=>E(e=>!e)},l.a.createElement(h.a,{fontSize:"small"}))),(v||k||P)&&l.a.createElement(i.a,null,v.name,k?` > ${k.name}`:"",P?` > ${P.name} (${P.zip_code})`:""),b&&l.a.createElement("div",{style:{display:"flex",marginTop:12}},l.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1}},l.a.createElement(_.a,Object.assign({},D)),v&&l.a.createElement(j.a,Object.assign({},D)),v&&k&&l.a.createElement(S.a,Object.assign({},D))),l.a.createElement("div",{style:{marginLeft:16,marginBottom:"auto"}},l.a.createElement(C.default,{disabled:p===e,variant:"contained",buttonColor:O.a,onClick:async function(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,location:p}});E(!1),o(e.csrf),s(),f()}},"บันทึก"),l.a.createElement(C.default,{variant:"text",buttonColor:O.a,onClick:function(){E(!1),g(e),x(y(e).province),B(y(e).district),z(y(e).subdistrict)}},"ยกเลิก"))))},F=({appointment:e,auctiondate:t})=>{const a=w(),{csrf:o,setCsrf:r,_xhrPost:s,getGoodsDetail:d,detail:u,_dateToString:f,_dateToAPI:y,realtimeAccess:b}=Object(n.useContext)(c.a),[E,p]=Object(n.useState)({appointment:!1,auctiondate:!1});async function g({date:e,keys:t}){const a=await s({csrf:o,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,[t]:y(e)}});r(a.csrf),d(),p({...E,[t]:!1}),b()}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(i.a,{className:a.dateText,variant:"h6"},"วันนัดดูสินค้า",l.a.createElement(m.a,{className:a.editButton,onClick:()=>p(e=>({...e,appointment:!e.appointment}))},l.a.createElement(h.a,{fontSize:"small"}))),l.a.createElement("div",{style:{width:16}}),l.a.createElement(i.a,{className:a.dateText,variant:"h6"},"วันประมูล",l.a.createElement(m.a,{className:a.editButton,onClick:()=>p(e=>({...e,auctiondate:!e.auctiondate}))},l.a.createElement(h.a,{fontSize:"small"})))),l.a.createElement("div",{style:{display:"flex"}},E.appointment?l.a.createElement(k.a,{className:a.dateText,clearable:!0,size:"small",fullWidth:!0,inputVariant:"outlined",clearLabel:"รีเซ็ต",okLabel:"ตกลง",cancelLabel:"ยกเลิก",value:e,minDateMessage:"",onChange:e=>g({date:e,keys:"appointment"}),labelFunc:()=>e?f(new Date(e)):"เลือกวันที่"}):l.a.createElement(i.a,{className:a.dateText},f(new Date(e))),l.a.createElement("div",{style:{width:16}}),E.auctiondate?l.a.createElement(k.a,{className:a.dateText,clearable:!0,size:"small",fullWidth:!0,inputVariant:"outlined",clearLabel:"รีเซ็ต",okLabel:"ตกลง",cancelLabel:"ยกเลิก",value:t,minDateMessage:"",onChange:e=>g({date:e,keys:"auctiondate"}),labelFunc:()=>t?f(new Date(t)):"เลือกวันที่"}):l.a.createElement(i.a,{className:a.dateText},f(new Date(t)))))},L=({value:e})=>{const t=w(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,businessForm:u,realtimeAccess:g}=Object(n.useContext)(c.a),[v,x]=Object(n.useState)(!1),[k,j]=Object(n.useState)(e);return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(i.a,{variant:"h6"},"ผู้ให้ข้อมูล",l.a.createElement(m.a,{className:t.editButton,onClick:()=>x(e=>!e)},l.a.createElement(h.a,{fontSize:"small"}))),l.a.createElement(i.a,null,e),l.a.createElement(B,{open:v,onClose:()=>{x(!1),j(e)},title:"แก้ไขผู้ให้ข้อมูล"},l.a.createElement(f.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},l.a.createElement(y.a,{component:"legend"},"ผู้ให้ข้อมูล"),l.a.createElement(b.a,{value:k,onChange:e=>j(e.target.value)},u.position.map((e,t)=>l.a.createElement(E.a,{key:e,value:e,control:l.a.createElement(p.a,{color:"primary"}),label:e})))),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(C.default,{variant:"text",buttonColor:O.a,onClick:()=>{x(!1),j(e)},style:{margin:8}},"ยกเลิก"),l.a.createElement(C.default,{disabled:k===e,variant:"contained",buttonColor:O.a,onClick:async function(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,position:k}});x(!1),o(e.csrf),s(),g()},style:{margin:8}},"บันทึก"))))},G=({value:e})=>{const t=w(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,businessForm:b,_onEnter:p,realtimeAccess:v}=Object(n.useContext)(c.a),[x,k]=Object(n.useState)(!1),[j,S]=Object(n.useState)(e.transport),[_,P]=Object(n.useState)("none"===e.etc?"":e.etc),z=e=>{const t=[...j];e.target.checked?(t.push(e.target.value),S(t),P(_)):(S(t.filter(t=>t!==(""===e.target.value?"etc":e.target.value))),P(_))};function D(){k(!1),S(e.transport),P("none"===e.etc?"":e.etc)}async function N(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,transport:j,...j.some(e=>"etc"===e)&&{transetc:_}}});k(!1),o(e.csrf),s(),v()}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(i.a,{variant:"h6"},"รถที่ใช้ขนส่ง",l.a.createElement(m.a,{className:t.editButton,onClick:()=>k(e=>!e)},l.a.createElement(h.a,{fontSize:"small"}))),e.transport.filter(e=>"etc"!==e).map(e=>l.a.createElement(i.a,{key:e},e)),"none"!==e.etc&&l.a.createElement(i.a,null,e.etc),0===e.transport.filter(e=>"etc"!==e).length&&"none"===e.etc&&l.a.createElement(i.a,null,"ไม่มีรถที่ใช้ขนส่ง"),l.a.createElement(B,{open:x,onClose:D,title:"แก้ไขรถที่ใช้ขนส่ง"},l.a.createElement(f.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},l.a.createElement(y.a,{component:"legend"},"รถที่ต้องการใช้ขนส่ง"),b.transport.map((e,t)=>l.a.createElement(E.a,{key:e,value:e,control:l.a.createElement(g.a,{checked:j.some(t=>t===e),color:"primary",onChange:z}),label:e})),j.some(e=>"etc"===e)?l.a.createElement("div",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center",marginLeft:-11,marginRight:16,verticalAlign:"middle"}},l.a.createElement(g.a,{checked:j.some(e=>"etc"===e),color:"primary",onChange:z}),l.a.createElement(u.a,{fullWidth:!0,autoFocus:"none"!==_,name:"transetc",label:"อื่นๆ",size:"small",value:_,onChange:e=>P(e.target.value),onKeyPress:p(N)})):l.a.createElement(E.a,{value:"etc",control:l.a.createElement(g.a,{checked:j.some(e=>"etc"===e),color:"primary",onChange:z}),label:"อื่นๆ"})),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(C.default,{variant:"text",buttonColor:O.a,onClick:D,style:{margin:8}},"ยกเลิก"),l.a.createElement(C.default,{variant:"contained",buttonColor:O.a,onClick:N,style:{margin:8}},"บันทึก"))))},T=({value:e})=>{const t=w(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,businessForm:b,_onEnter:p,realtimeAccess:v}=Object(n.useContext)(c.a),[x,k]=Object(n.useState)(!1),[j,S]=Object(n.useState)(e.document),[_,P]=Object(n.useState)("none"===e.etc?"":e.etc),z=e=>{const t=[...j];e.target.checked?(t.push(e.target.value),S(t),P(_)):(S(t.filter(t=>t!==(""===e.target.value?"etc":e.target.value))),P(_))};function D(){k(!1),S(e.document),P("none"===e.etc?"":e.etc)}async function N(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,document:j,...j.some(e=>"etc"===e)&&{docsetc:_}}});k(!1),o(e.csrf),s(),v()}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(i.a,{variant:"h6"},"เอกสาร",l.a.createElement(m.a,{className:t.editButton,onClick:()=>k(e=>!e)},l.a.createElement(h.a,{fontSize:"small"}))),e.document.filter(e=>"etc"!==e).map(e=>l.a.createElement(i.a,{key:e},e)),"none"!==e.etc&&l.a.createElement(i.a,null,e.etc),0===e.document.filter(e=>"etc"!==e).length&&"none"===e.etc&&l.a.createElement(i.a,null,"ไม่มีเอกสาร"),l.a.createElement(B,{open:x,onClose:D,title:"แก้ไขรถที่ใช้ขนส่ง"},l.a.createElement(f.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},l.a.createElement(y.a,{component:"legend"},"รถที่ต้องการใช้ขนส่ง"),b.document.map((e,t)=>l.a.createElement(E.a,{key:e,value:e,control:l.a.createElement(g.a,{checked:j.some(t=>t===e),color:"primary",onChange:z}),label:e})),j.some(e=>"etc"===e)?l.a.createElement("div",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center",marginLeft:-11,marginRight:16,verticalAlign:"middle"}},l.a.createElement(g.a,{checked:j.some(e=>"etc"===e),color:"primary",onChange:z}),l.a.createElement(u.a,{fullWidth:!0,autoFocus:"none"!==_,name:"docsetc",label:"อื่นๆ",size:"small",value:_,onChange:e=>P(e.target.value),onKeyPress:p(N)})):l.a.createElement(E.a,{value:"etc",control:l.a.createElement(g.a,{checked:j.some(e=>"etc"===e),color:"primary",onChange:z}),label:"อื่นๆ"})),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(C.default,{variant:"text",buttonColor:O.a,onClick:D,style:{margin:8}},"ยกเลิก"),l.a.createElement(C.default,{variant:"contained",buttonColor:O.a,onClick:N,style:{margin:8}},"บันทึก"))))},W=({value:e})=>{const t=w(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,_onEnter:f,realtimeAccess:y}=Object(n.useContext)(c.a),[b,E]=Object(n.useState)(!1),[p,g]=Object(n.useState)(e);return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(i.a,{variant:"h6"},"เงื่อนไขการขาย",l.a.createElement(m.a,{className:t.editButton,onClick:()=>E(e=>!e)},l.a.createElement(h.a,{fontSize:"small"}))),b?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(u.a,{style:{marginRight:16},fullWidth:!0,autoFocus:b,value:p,variant:"outlined",multiline:!0,rowsMax:"10",onChange:e=>g(e.target.value)}),l.a.createElement(C.default,{disabled:p===e,variant:"contained",buttonColor:O.a,onClick:async function(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,sale_condition:p}});o(e.csrf),E(!1),s(),y()},style:{marginBottom:"auto"}},"บันทึก"),l.a.createElement(C.default,{variant:"text",buttonColor:O.a,onClick:()=>{E(!1),g(e)},style:{marginBottom:"auto"}},"ยกเลิก")):l.a.createElement(i.a,{style:{whiteSpace:"pre-line"}},e))};t.default=({detail:e})=>{w();const{csrf:t,setCsrf:a,_xhrPost:o,_onLocalhostFn:r}=Object(n.useContext)(c.a),[s,m]=Object(n.useState)(null),[d,u]=Object(n.useState)(null),f={...Object(n.useContext)(c.a),getGoodsDetail:y,detail:e,businessForm:d};async function y(){const n=await o({csrf:t,url:"aloadbusiness",body:{action:"form_detail",formid:e.formid}});m(n.data);const l=await o({csrf:n.csrf,url:"aloadbusiness",body:{action:"business_form"}});a(l.csrf),u(l.data)}return Object(n.useEffect)(()=>{e&&y()},[e]),s&&d?l.a.createElement(c.a.Provider,{value:f},"status"in s&&"wrong formid"!==s.status?l.a.createElement("div",null,l.a.createElement(P,{value:s}),l.a.createElement(v.a,{style:{margin:"16px 0"}}),l.a.createElement(z,{value:s.business_name}),l.a.createElement(D,{remain:s.accessremain,total:s.accesstotal}),l.a.createElement(N,{value:s.price}),l.a.createElement(R,{value:s.location}),l.a.createElement(F,{appointment:s.appointment,auctiondate:s.auctiondate}),l.a.createElement(L,{value:s.position}),l.a.createElement(G,{value:s.transport}),l.a.createElement(T,{value:s.document}),l.a.createElement(W,{value:s.sale_condition})):l.a.createElement(i.a,{style:{margin:"24px 0"},align:"center",variant:"h4",color:"textSecondary"},"ไม่มีสินค้า")):l.a.createElement("div",null)}},598:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(26),r=a.n(o),s=a(104),c=a(31),i=a(165),m=a(138),d=a(229),u=a(151),f=a(622),y=a(150),b=a(353),E=a(245),p=a(352),g=a(601),v=a(143),h=a(160),C=a(38),x=a(39),O=a(599);const k=r()({loader:()=>Promise.resolve().then(a.bind(null,124)),loading:()=>null}),j=r()({loader:()=>Promise.all([a.e(0),a.e(37)]).then(a.bind(null,133)),loading:()=>null}),S=Object(s.a)(e=>({editButton:{padding:6,marginBottom:6,marginLeft:8},dateText:{width:"50%"}})),_=({value:e})=>{const t=S(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:u}=Object(n.useContext)(c.a),[f,y]=Object(n.useState)(!1),[b,E]=Object(n.useState)({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""});async function p({value:e,keys:t}){const n=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,[t]:e}});o(n.csrf),s()}return l.a.createElement("div",null,l.a.createElement(i.a,{style:{marginBottom:12},variant:"h6"},"ตั้งค่า",!f&&l.a.createElement(m.a,{className:t.editButton,onClick:()=>{y(!0),E({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},l.a.createElement(h.a,{fontSize:"small"}))),l.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},l.a.createElement(i.a,{style:{width:100}},"ร้านค้า"),f?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(d.a,Object.assign({label:"ขายบนร้านค้า",style:{marginRight:4,...1===b.boarddisplay&&{color:"white"}}},0===b.boarddisplay&&{variant:"outlined"},1===b.boarddisplay&&{color:"primary"},{onClick:()=>{E({...b,boarddisplay:1}),p({value:1,keys:"boarddisplay"})}})),l.a.createElement(d.a,Object.assign({label:"ไม่ได้ขายบนร้านค้า",style:{...0===b.boarddisplay&&{color:"white"}}},1===b.boarddisplay&&{variant:"outlined"},0===b.boarddisplay&&{color:"primary"},{onClick:()=>{E({...b,boarddisplay:0}),p({value:0,keys:"boarddisplay"})}}))):l.a.createElement(d.a,Object.assign({label:1===e.boarddisplay?"แสดงบนร้านค้า":"ไม่แสดงบนร้านค้า"},0===e.boarddisplay&&{variant:"outlined"},1===e.boarddisplay&&{color:"primary",style:{color:"white"}}))),l.a.createElement("div",{style:{display:"flex",marginBottom:12,alignItems:"baseline"}},l.a.createElement(i.a,{style:{width:100}},"การขาย"),f?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(d.a,Object.assign({label:"ขายต่อ",style:{marginRight:4,...0===b.endofsale&&{color:"white"}}},1===b.endofsale&&{variant:"outlined"},0===b.endofsale&&{color:"primary"},{onClick:()=>{E({...b,endofsale:0}),p({value:0,keys:"endofsale"})}})),l.a.createElement(d.a,Object.assign({label:"จบการขาย",style:{...1===b.endofsale&&{color:"white"}}},0===b.endofsale&&{variant:"outlined"},1===b.endofsale&&{color:"primary"},{onClick:()=>{E({...b,endofsale:1}),p({value:1,keys:"endofsale"})}}))):l.a.createElement(d.a,Object.assign({label:1===e.endofsale?"จบการขายแล้ว":"กำลังขาย"},1===e.endofsale&&{variant:"outlined"},0===e.endofsale&&{color:"primary",style:{color:"white"}}))),f&&l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(k,{buttonColor:C.a,variant:"contained",onClick:()=>{y(!1),E({status:e.status,boarddisplay:e.boarddisplay,endofsale:e.endofsale,formcode_sector:e.formcode?e.formcode.sector:"",formcode_province:e.formcode?e.formcode.province:"",formcode_number:e.formcode?e.formcode.number:""})}},"จบการแก้ไข")))},w=({value:e})=>{const t=S(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,_onEnter:f}=Object(n.useContext)(c.a),[y,b]=Object(n.useState)(!1),[E,p]=Object(n.useState)(e);async function g(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,business_name:E}});o(e.csrf),b(!1),s()}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(i.a,{variant:"h6"},"ชิ่อบริษัท",l.a.createElement(m.a,{className:t.editButton,onClick:()=>b(e=>!e)},l.a.createElement(h.a,{fontSize:"small"}))),y?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(u.a,{style:{marginRight:16},fullWidth:!0,autoFocus:y,value:E,onChange:e=>p(e.target.value),onKeyPress:f(g)}),l.a.createElement(k,{disabled:E===e,variant:"contained",buttonColor:x.a,onClick:g},"บันทึก"),l.a.createElement(k,{variant:"text",buttonColor:x.a,onClick:()=>{b(!1),p(e)}},"ยกเลิก")):l.a.createElement(i.a,null,e))},B=({remain:e,total:t})=>{const a=S(),{csrf:o,setCsrf:r,_xhrPost:s,getGoodsDetail:d,detail:f,_onEnter:y}=Object(n.useContext)(c.a),[b,E]=Object(n.useState)(!1),[p,g]=Object(n.useState)("0");async function v(){const e=await s({csrf:o,url:"abusinesssystem",body:{action:"form_edit",formid:f.formid,accessremain:parseInt(p)}});E(!1),r(e.csrf),d()}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},l.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},"สิทธิการเข้าชม"),l.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},`${e}/${t}`,l.a.createElement(m.a,{className:a.editButton,onClick:()=>E(e=>!e)},l.a.createElement(h.a,{fontSize:"small"})))),l.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},l.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},b?"เพิ่มจำนวน":"เหลือ"),b?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(u.a,{style:{marginRight:16},fullWidth:!0,autoFocus:b,value:p,type:"number",onChange:e=>g(e.target.value),onKeyPress:y(v)}),l.a.createElement(k,{disabled:p===e,variant:"contained",buttonColor:x.a,onClick:v},"บันทึก"),l.a.createElement(k,{variant:"text",buttonColor:x.a,onClick:()=>{E(!1),g(e)}},"ยกเลิก")):l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,{style:{marginRight:24}},e),l.a.createElement(i.a,{variant:"h6",style:{marginRight:16}},"ทั้งหมด"),l.a.createElement(i.a,null,t))))},P=({value:e})=>{const t=S(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,_onEnter:f}=Object(n.useContext)(c.a),[y,b]=Object(n.useState)(!1),[E,p]=Object(n.useState)(e);async function g(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,price:E}});b(!1),o(e.csrf),s()}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},l.a.createElement(i.a,{variant:"h6",style:{marginRight:48}},"ราคาเข้าชม"),y?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(u.a,{style:{marginRight:16},fullWidth:!0,autoFocus:y,value:E,type:"number",onChange:e=>p(e.target.value),onKeyPress:f(g)}),l.a.createElement(k,{disabled:E===e,variant:"contained",buttonColor:x.a,onClick:g},"บันทึก"),l.a.createElement(k,{variant:"text",buttonColor:x.a,onClick:()=>{b(!1),p(e)}},"ยกเลิก")):l.a.createElement(i.a,null,""===e?"-":e," บาท",l.a.createElement(m.a,{className:t.editButton,onClick:()=>b(e=>!e)},l.a.createElement(h.a,{fontSize:"small"})))))},z=({value:e})=>{S();const{csrf:t,setCsrf:a,_xhrPost:o,getGoodsDetail:r,detail:s,_onEnter:m}=Object(n.useContext)(c.a),[d,f]=Object(n.useState)(!1),[y,b]=Object(n.useState)(e);async function E(){const e=await o({csrf:t,url:"abusinesssystem",body:{action:"form_edit",formid:s.formid,location:y}});f(!1),a(e.csrf),r()}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(i.a,{variant:"h6"},"สถานที่"),d?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(u.a,{style:{marginRight:16},fullWidth:!0,autoFocus:d,value:y,onChange:e=>b(e.target.value),onKeyPress:m(E)}),l.a.createElement(k,{disabled:y===e,variant:"contained",buttonColor:x.a,onClick:E},"บันทึก"),l.a.createElement(k,{variant:"text",buttonColor:x.a,onClick:()=>{f(!1),b(e)}},"ยกเลิก")):l.a.createElement(i.a,null,e))},D=({appointment:e,auctiondate:t})=>{const a=S(),{csrf:o,setCsrf:r,_xhrPost:s,getGoodsDetail:d,detail:u,_dateToString:f,_dateToAPI:y}=Object(n.useContext)(c.a),[b,E]=Object(n.useState)({appointment:!1,auctiondate:!1});async function p({date:e,keys:t}){const a=await s({csrf:o,url:"abusinesssystem",body:{action:"form_edit",formid:u.formid,[t]:y(e)}});r(a.csrf),d(),E({...b,[t]:!1})}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(i.a,{className:a.dateText,variant:"h6"},"วันนัดดูสินค้า",l.a.createElement(m.a,{className:a.editButton,onClick:()=>E(e=>({...e,appointment:!e.appointment}))},l.a.createElement(h.a,{fontSize:"small"}))),l.a.createElement("div",{style:{width:16}}),l.a.createElement(i.a,{className:a.dateText,variant:"h6"},"วันประมูล",l.a.createElement(m.a,{className:a.editButton,onClick:()=>E(e=>({...e,auctiondate:!e.auctiondate}))},l.a.createElement(h.a,{fontSize:"small"})))),l.a.createElement("div",{style:{display:"flex"}},b.appointment?l.a.createElement(O.a,{className:a.dateText,clearable:!0,size:"small",fullWidth:!0,inputVariant:"outlined",clearLabel:"รีเซ็ต",okLabel:"ตกลง",cancelLabel:"ยกเลิก",value:e,minDateMessage:"",onChange:e=>p({date:e,keys:"appointment"}),labelFunc:()=>e?f(new Date(e)):"เลือกวันที่"}):l.a.createElement(i.a,{className:a.dateText},f(new Date(e))),l.a.createElement("div",{style:{width:16}}),b.auctiondate?l.a.createElement(O.a,{className:a.dateText,clearable:!0,size:"small",fullWidth:!0,inputVariant:"outlined",clearLabel:"รีเซ็ต",okLabel:"ตกลง",cancelLabel:"ยกเลิก",value:t,minDateMessage:"",onChange:e=>p({date:e,keys:"auctiondate"}),labelFunc:()=>t?f(new Date(t)):"เลือกวันที่"}):l.a.createElement(i.a,{className:a.dateText},f(new Date(t)))))},N=({value:e})=>{const t=S(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,businessForm:u}=Object(n.useContext)(c.a),[g,v]=Object(n.useState)(!1),[C,O]=Object(n.useState)(e);return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(i.a,{variant:"h6"},"ผู้ให้ข้อมูล",l.a.createElement(m.a,{className:t.editButton,onClick:()=>v(e=>!e)},l.a.createElement(h.a,{fontSize:"small"}))),l.a.createElement(i.a,null,e),l.a.createElement(j,{open:g,onClose:()=>{v(!1),O(e)},title:"แก้ไขผู้ให้ข้อมูล"},l.a.createElement(f.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},l.a.createElement(y.a,{component:"legend"},"ผู้ให้ข้อมูล"),l.a.createElement(b.a,{value:C,onChange:e=>O(e.target.value)},u.position.map((e,t)=>l.a.createElement(E.a,{key:e,value:e,control:l.a.createElement(p.a,{color:"primary"}),label:e})))),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(k,{variant:"text",buttonColor:x.a,onClick:()=>{v(!1),O(e)},style:{margin:8}},"ยกเลิก"),l.a.createElement(k,{disabled:C===e,variant:"contained",buttonColor:x.a,onClick:async function(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,position:C}});v(!1),o(e.csrf),s()},style:{margin:8}},"บันทึก"))))},R=({value:e})=>{const t=S(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,businessForm:b,_onEnter:p}=Object(n.useContext)(c.a),[v,C]=Object(n.useState)(!1),[O,_]=Object(n.useState)(e.transport),[w,B]=Object(n.useState)("none"===e.etc?"":e.etc),P=e=>{const t=[...O];e.target.checked?(t.push(e.target.value),_(t),B(w)):(_(t.filter(t=>t!==(""===e.target.value?"etc":e.target.value))),B(w))};function z(){C(!1),_(e.transport),B("none"===e.etc?"":e.etc)}async function D(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,transport:O,...O.some(e=>"etc"===e)&&{transetc:w}}});C(!1),o(e.csrf),s()}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(i.a,{variant:"h6"},"รถที่ใช้ขนส่ง",l.a.createElement(m.a,{className:t.editButton,onClick:()=>C(e=>!e)},l.a.createElement(h.a,{fontSize:"small"}))),e.transport.filter(e=>"etc"!==e).map(e=>l.a.createElement(i.a,{key:e},e)),"none"!==e.etc&&l.a.createElement(i.a,null,e.etc),0===e.transport.filter(e=>"etc"!==e).length&&"none"===e.etc&&l.a.createElement(i.a,null,"ไม่มีรถที่ใช้ขนส่ง"),l.a.createElement(j,{open:v,onClose:z,title:"แก้ไขรถที่ใช้ขนส่ง"},l.a.createElement(f.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},l.a.createElement(y.a,{component:"legend"},"รถที่ต้องการใช้ขนส่ง"),b.transport.map((e,t)=>l.a.createElement(E.a,{key:e,value:e,control:l.a.createElement(g.a,{checked:O.some(t=>t===e),color:"primary",onChange:P}),label:e})),O.some(e=>"etc"===e)?l.a.createElement("div",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center",marginLeft:-11,marginRight:16,verticalAlign:"middle"}},l.a.createElement(g.a,{checked:O.some(e=>"etc"===e),color:"primary",onChange:P}),l.a.createElement(u.a,{fullWidth:!0,autoFocus:"none"!==w,name:"transetc",label:"อื่นๆ",size:"small",value:w,onChange:e=>B(e.target.value),onKeyPress:p(D)})):l.a.createElement(E.a,{value:"etc",control:l.a.createElement(g.a,{checked:O.some(e=>"etc"===e),color:"primary",onChange:P}),label:"อื่นๆ"})),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(k,{variant:"text",buttonColor:x.a,onClick:z,style:{margin:8}},"ยกเลิก"),l.a.createElement(k,{variant:"contained",buttonColor:x.a,onClick:D,style:{margin:8}},"บันทึก"))))},F=({value:e})=>{const t=S(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,businessForm:b,_onEnter:p}=Object(n.useContext)(c.a),[v,C]=Object(n.useState)(!1),[O,_]=Object(n.useState)(e.document),[w,B]=Object(n.useState)("none"===e.etc?"":e.etc),P=e=>{const t=[...O];e.target.checked?(t.push(e.target.value),_(t),B(w)):(_(t.filter(t=>t!==(""===e.target.value?"etc":e.target.value))),B(w))};function z(){C(!1),_(e.document),B("none"===e.etc?"":e.etc)}async function D(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,document:O,...O.some(e=>"etc"===e)&&{docsetc:w}}});C(!1),o(e.csrf),s()}return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(i.a,{variant:"h6"},"เอกสาร",l.a.createElement(m.a,{className:t.editButton,onClick:()=>C(e=>!e)},l.a.createElement(h.a,{fontSize:"small"}))),e.document.filter(e=>"etc"!==e).map(e=>l.a.createElement(i.a,{key:e},e)),"none"!==e.etc&&l.a.createElement(i.a,null,e.etc),0===e.document.filter(e=>"etc"!==e).length&&"none"===e.etc&&l.a.createElement(i.a,null,"ไม่มีเอกสาร"),l.a.createElement(j,{open:v,onClose:z,title:"แก้ไขรถที่ใช้ขนส่ง"},l.a.createElement(f.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},l.a.createElement(y.a,{component:"legend"},"รถที่ต้องการใช้ขนส่ง"),b.document.map((e,t)=>l.a.createElement(E.a,{key:e,value:e,control:l.a.createElement(g.a,{checked:O.some(t=>t===e),color:"primary",onChange:P}),label:e})),O.some(e=>"etc"===e)?l.a.createElement("div",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center",marginLeft:-11,marginRight:16,verticalAlign:"middle"}},l.a.createElement(g.a,{checked:O.some(e=>"etc"===e),color:"primary",onChange:P}),l.a.createElement(u.a,{fullWidth:!0,autoFocus:"none"!==w,name:"docsetc",label:"อื่นๆ",size:"small",value:w,onChange:e=>B(e.target.value),onKeyPress:p(D)})):l.a.createElement(E.a,{value:"etc",control:l.a.createElement(g.a,{checked:O.some(e=>"etc"===e),color:"primary",onChange:P}),label:"อื่นๆ"})),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(k,{variant:"text",buttonColor:x.a,onClick:z,style:{margin:8}},"ยกเลิก"),l.a.createElement(k,{variant:"contained",buttonColor:x.a,onClick:D,style:{margin:8}},"บันทึก"))))},L=({value:e})=>{const t=S(),{csrf:a,setCsrf:o,_xhrPost:r,getGoodsDetail:s,detail:d,_onEnter:f}=Object(n.useContext)(c.a),[y,b]=Object(n.useState)(!1),[E,p]=Object(n.useState)(e);return l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(i.a,{variant:"h6"},"เงื่อนไขการขาย",l.a.createElement(m.a,{className:t.editButton,onClick:()=>b(e=>!e)},l.a.createElement(h.a,{fontSize:"small"}))),y?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(u.a,{style:{marginRight:16},fullWidth:!0,autoFocus:y,value:E,variant:"outlined",multiline:!0,rowsMax:"10",onChange:e=>p(e.target.value)}),l.a.createElement(k,{disabled:E===e,variant:"contained",buttonColor:x.a,onClick:async function(){const e=await r({csrf:a,url:"abusinesssystem",body:{action:"form_edit",formid:d.formid,sale_condition:E}});o(e.csrf),b(!1),s()},style:{marginBottom:"auto"}},"บันทึก"),l.a.createElement(k,{variant:"text",buttonColor:x.a,onClick:()=>{b(!1),p(e)},style:{marginBottom:"auto"}},"ยกเลิก")):l.a.createElement(i.a,{style:{whiteSpace:"pre-line"}},e))};t.default=({detail:e})=>{S();const{csrf:t,setCsrf:a,_xhrPost:o,_onLocalhostFn:r}=Object(n.useContext)(c.a),[s,m]=Object(n.useState)(null),[d,u]=Object(n.useState)(null),f={...Object(n.useContext)(c.a),getGoodsDetail:y,detail:e,businessForm:d};async function y(){const n=await o({csrf:t,url:"aloadbusiness",body:{action:"form_detail",formid:e.formid}});m(n.data);const l=await o({csrf:n.csrf,url:"aloadbusiness",body:{action:"business_form"}});a(l.csrf),u(l.data)}return Object(n.useEffect)(()=>{e&&y()},[e]),s&&d?l.a.createElement(c.a.Provider,{value:f},l.a.createElement(l.a.Fragment,null,"status"in s&&"wrong formid"!==s.status?l.a.createElement("div",null,l.a.createElement(_,{value:s}),l.a.createElement(v.a,{style:{margin:"16px 0"}}),l.a.createElement(w,{value:s.business_name}),l.a.createElement(B,{remain:s.accessremain,total:s.accesstotal}),l.a.createElement(P,{value:s.price}),l.a.createElement(z,{value:s.location}),l.a.createElement(D,{appointment:s.appointment,auctiondate:s.auctiondate}),l.a.createElement(N,{value:s.position}),l.a.createElement(R,{value:s.transport}),l.a.createElement(F,{value:s.document}),l.a.createElement(L,{value:s.sale_condition})):l.a.createElement(i.a,{style:{margin:"24px 0"},align:"center",variant:"h4",color:"textSecondary"},"ไม่มีสินค้า"))):l.a.createElement("div",null)}}}]);