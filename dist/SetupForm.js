(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["SetupForm"],{

/***/ "./src/page/Admin/Other/SetupForm.tsx":
/*!********************************************!*\
  !*** ./src/page/Admin/Other/SetupForm.tsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_loadable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-loadable */ \"./node_modules/react-loadable/lib/index.js\");\n/* harmony import */ var react_loadable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_loadable__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/styles */ \"./node_modules/@material-ui/styles/esm/index.js\");\n/* harmony import */ var _AppContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../AppContext */ \"./src/AppContext.tsx\");\n\r\n\r\n\r\n\r\nconst GeneralSetup = react_loadable__WEBPACK_IMPORTED_MODULE_1___default()({\r\n    loader: () => Promise.all(/*! import() | GeneralSetup */[__webpack_require__.e(\"vendors~AddFab~AdminHeader~AdminList~BusinessDetail~BusinessProfile~BusinessType~Condition~ConfirmDi~645c9302\"), __webpack_require__.e(\"GeneralSetup\")]).then(__webpack_require__.bind(null, /*! ./GeneralSetup */ \"./src/page/Admin/Other/GeneralSetup.tsx\")),\r\n    loading: () => null\r\n});\r\nconst OrganizeSize = react_loadable__WEBPACK_IMPORTED_MODULE_1___default()({\r\n    loader: () => Promise.all(/*! import() | OrganizeSize */[__webpack_require__.e(\"vendors~AddFab~AdminHeader~AdminList~BusinessDetail~BusinessProfile~BusinessType~Condition~ConfirmDi~645c9302\"), __webpack_require__.e(\"OrganizeSize\")]).then(__webpack_require__.bind(null, /*! ./Form/OrganizeSize */ \"./src/page/Admin/Other/Form/OrganizeSize.tsx\")),\r\n    loading: () => null\r\n});\r\nconst Document = react_loadable__WEBPACK_IMPORTED_MODULE_1___default()({\r\n    loader: () => Promise.all(/*! import() | Document */[__webpack_require__.e(\"vendors~AddFab~AdminHeader~AdminList~BusinessDetail~BusinessProfile~BusinessType~Condition~ConfirmDi~645c9302\"), __webpack_require__.e(\"Document\")]).then(__webpack_require__.bind(null, /*! ./Form/Document */ \"./src/page/Admin/Other/Form/Document.tsx\")),\r\n    loading: () => null\r\n});\r\nconst Transport = react_loadable__WEBPACK_IMPORTED_MODULE_1___default()({\r\n    loader: () => Promise.all(/*! import() | Transport */[__webpack_require__.e(\"vendors~AddFab~AdminHeader~AdminList~BusinessDetail~BusinessProfile~BusinessType~Condition~ConfirmDi~645c9302\"), __webpack_require__.e(\"Transport\")]).then(__webpack_require__.bind(null, /*! ./Form/Transport */ \"./src/page/Admin/Other/Form/Transport.tsx\")),\r\n    loading: () => null\r\n});\r\nconst useStyles = Object(_material_ui_styles__WEBPACK_IMPORTED_MODULE_2__[\"makeStyles\"])(theme => ({}));\r\nconst FormComponent = ({ form }) => {\r\n    const { sess } = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_AppContext__WEBPACK_IMPORTED_MODULE_3__[\"AppContext\"]);\r\n    const { org_size, document, transport } = form;\r\n    const per1 = sess.permission &&\r\n        sess.permission.permission.some((item) => item === 1);\r\n    const per2 = sess.permission &&\r\n        sess.permission.permission.some((item) => item === 2);\r\n    const per3 = sess.permission &&\r\n        sess.permission.permission.some((item) => item === 3);\r\n    const per4 = sess.permission &&\r\n        sess.permission.permission.some((item) => item === 4);\r\n    const per5 = sess.permission &&\r\n        sess.permission.permission.some((item) => item === 5);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GeneralSetup, null),\r\n        per4 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(OrganizeSize, { data: org_size }),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Document, { data: document }),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Transport, { data: transport })));\r\n};\r\nconst SetupForm = () => {\r\n    const classes = useStyles();\r\n    const { csrf, setCsrf, _xhrPost, _onLocalhostFn } = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_AppContext__WEBPACK_IMPORTED_MODULE_3__[\"AppContext\"]);\r\n    const [form, setForm] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null);\r\n    const passingProps = {\r\n        ...Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_AppContext__WEBPACK_IMPORTED_MODULE_3__[\"AppContext\"]),\r\n        form,\r\n        getCustomerRegister,\r\n        onInserForm,\r\n        onDeleteForm,\r\n        onEditForm\r\n    };\r\n    async function getCustomerRegister() {\r\n        const res = await _xhrPost({\r\n            csrf,\r\n            url: \"aloadcustomer\",\r\n            body: {\r\n                action: \"customer_register\"\r\n            }\r\n        });\r\n        console.log(res.data);\r\n        setCsrf(res.csrf);\r\n        setForm(res.data);\r\n    }\r\n    async function onInserForm({ state, setState, type }) {\r\n        const sendObj = {\r\n            action: \"setup\",\r\n            type,\r\n            setaction: \"insert\",\r\n            newtext: state\r\n        };\r\n        const res = await _xhrPost({\r\n            csrf,\r\n            url: \"ausersystem\",\r\n            body: sendObj\r\n        });\r\n        console.log(res.data);\r\n        setCsrf(res.csrf);\r\n        setState(\"\");\r\n        getCustomerRegister();\r\n    }\r\n    async function onDeleteForm({ text, type }) {\r\n        const sendObj = {\r\n            action: \"setup\",\r\n            type,\r\n            setaction: \"delete\",\r\n            oldtext: text\r\n        };\r\n        const res = await _xhrPost({\r\n            csrf,\r\n            url: \"ausersystem\",\r\n            body: sendObj\r\n        });\r\n        console.log(res.data);\r\n        setCsrf(res.csrf);\r\n        getCustomerRegister();\r\n    }\r\n    async function onEditForm({ oldtext, newtext, type, afterEdit }) {\r\n        const sendObj = {\r\n            action: \"setup\",\r\n            type,\r\n            setaction: \"edit\",\r\n            oldtext,\r\n            newtext\r\n        };\r\n        const res = await _xhrPost({\r\n            csrf,\r\n            url: \"ausersystem\",\r\n            body: sendObj\r\n        });\r\n        console.log(res.data);\r\n        setCsrf(res.csrf);\r\n        afterEdit();\r\n        getCustomerRegister();\r\n    }\r\n    Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\r\n        _onLocalhostFn(() => {\r\n            setForm({\r\n                customer_condition: [\"<แก้ไข เงื่อนไขและข้อตกลง>\"],\r\n                business_type: [\r\n                    \"บุคคลธรรมดา\",\r\n                    \"รถรับซื้อของเก่า/ซาเล้ง\",\r\n                    \"ร้านรับซื้อของเก่า\",\r\n                    \"นิติบุคคล(บริษัท/หจก)\"\r\n                ],\r\n                org_size: [\r\n                    \"พนักงาน 1-5 คน\",\r\n                    \"พนักงาน 6-20 คน\",\r\n                    \"พนักงาน 21-40 คน\",\r\n                    \"พนักงาน 41-100 คน\",\r\n                    \"มากกว่า 100 คน\"\r\n                ],\r\n                document: [\r\n                    \"บิลเงินสด\",\r\n                    \"ใบอนุญาตค้าของเก่า\",\r\n                    \"ภพ.20\",\r\n                    \"หนังสือรับรองบริษัท\",\r\n                    \"ใบรง.4 ลำดับที่ 105 (คัดแยกขยะที่ไม่เป็นอันตราย)\",\r\n                    \"ใบรง.ลำดับที่ 106 (กำจัดขยะประเภทอันตราย)\"\r\n                ],\r\n                transport: [\r\n                    \"รถกะบะ Pickup\",\r\n                    \"รถบรรทุก 6 ล้อ\",\r\n                    \"รถบรรทุกติดเฮี๊ยบ(มือขยุ้ม)\",\r\n                    \"รถสไลด์(วางกะบะเหล็ก)\",\r\n                    \"แม็คโครปากคีบ/แม็คโครแม่เหล็ก\"\r\n                ]\r\n            });\r\n        }, getCustomerRegister);\r\n    }, []);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AppContext__WEBPACK_IMPORTED_MODULE_3__[\"AppContext\"].Provider, { value: passingProps },\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, form && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FormComponent, Object.assign({}, { form })))));\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetupForm);\r\n\n\n//# sourceURL=webpack:///./src/page/Admin/Other/SetupForm.tsx?");

/***/ })

}]);