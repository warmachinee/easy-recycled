(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),l=a(20),c=a(133);t.default=({children:e,variant:t,buttonColor:a,light:n=!1,...i})=>{const s=Object(l.a)();function m(e){switch(e){case"text":return{color:a?a[600]:s.palette.text.primary,"&:hover":{backgroundColor:a?a[n?100:50]:s.palette.action.hover}};case"contained":return{color:a?s.palette.getContrastText(a[n?700:600]):s.palette.text.primary,backgroundColor:a?a[n?600:500]:s.palette.background.default,"&:hover":{backgroundColor:a?a[n?800:700]:s.palette.action.hover}};case"outlined":return{color:a?a[600]:s.palette.text.primary,border:`1px solid ${a?a[600]:s.palette.text.primary}`,"&:hover":{backgroundColor:a?a[n?100:50]:s.palette.action.hover}};default:return{color:s.palette.text.primary,"&:hover":{backgroundColor:s.palette.action.hover}}}}const u=Object(o.a)(e=>({root:{...m(t)}}))(c.a);return r.a.createElement(u,Object.assign({},i,{variant:t}),e)}},378:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(123);t.a=Object(o.a)(r.a.createElement("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft")},379:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(123);t.a=Object(o.a)(r.a.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight")},533:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),l=a.n(o),c=a(104),i=a(40),s=a(162),m=a(20),u=a(568),d=a(133),p=a(586),b=a(147),f=a(598),g=a(168),h=a(142),y=a(149),v=a(148),E=a(570),x=a(281),k=a(563),C=a(137),j=a(564),O=a(227),w=a(201),_=a(378),S=a(379),I=a(170),B=a(534),z=a(31),F=a(125),A=a(38),D=a(39),P=a(596);const L=l()({loader:()=>a.e(47).then(a.bind(null,259)),loading:()=>null}),W=l()({loader:()=>a.e(61).then(a.bind(null,547)),loading:()=>null}),N=l()({loader:()=>Promise.all([a.e(0),a.e(35)]).then(a.bind(null,134)),loading:()=>null}),M=l()({loader:()=>Promise.all([a.e(0),a.e(6),a.e(24)]).then(a.bind(null,135)),loading:()=>null}),T=Object(c.a)(e=>({stepperRoot:{flexGrow:1},buttonGroup:{display:"flex",padding:8,position:"absolute",bottom:0,width:"100%",boxSizing:"border-box",backgroundColor:e.palette.background.default},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"}})),R=()=>r.a.createElement(s.a,{variant:"h6",style:{fontWeight:600},align:"center"},"ข้อมูลขายวัสดุเหลือใช้"),G=e=>{const t=T(),a=Object(m.a)(),{businessForm:n,activeStep:o,setActiveStep:l}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"dots",steps:4,position:"static",activeStep:o,nextButton:r.a.createElement(d.a,{size:"small",onClick:()=>{l(e=>e+1)},disabled:3===o},"Next","rtl"===a.direction?r.a.createElement(_.a,null):r.a.createElement(S.a,null)),backButton:0!==o?r.a.createElement(d.a,{size:"small",onClick:()=>{l(e=>e-1)}},"rtl"===a.direction?r.a.createElement(S.a,null):r.a.createElement(_.a,null),"Back"):r.a.createElement("div",{style:{width:66.31}})}),r.a.createElement("div",{className:t.stepperRoot,style:{padding:"16px 16px 68px 16px",overflow:"auto"}},r.a.createElement(q,Object.assign({},e))))},q=({activeStep:e,...t})=>{switch(e){case 0:return r.a.createElement(J,Object.assign({},t));case 1:return r.a.createElement(K,Object.assign({},t));case 2:return r.a.createElement(V,Object.assign({},t));case 3:return r.a.createElement(X,Object.assign({},t));default:return r.a.createElement("div",null,"default")}},$=e=>{const{label:t,value:a,onChange:n,menuArr:o}=e,l=r.a.useRef(null),[c,i]=r.a.useState(0);return r.a.useEffect(()=>{i(l.current.offsetWidth)},[]),r.a.createElement(p.a,{fullWidth:!0,variant:"outlined",size:"small"},r.a.createElement(b.a,{ref:l},t),r.a.createElement(f.a,{labelWidth:c,value:a,onChange:n},o.map((e,t)=>r.a.createElement(g.a,{key:t,value:t},e))))},J=({editting:e,goodsDetail:t,businessForm:a,form:n,setForm:o,onEndSale:l})=>r.a.createElement("div",null,e&&t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(s.a,{variant:"h6",style:{flex:1}},"จำนวนการเข้าชม"),r.a.createElement(s.a,{variant:"h6"},`${t.accessremain}/${t.accesstotal}`)),0===t.endofsale&&r.a.createElement(F.default,{variant:"contained",buttonColor:A.a,style:{flexGrow:1.5,margin:"16px 0"},onClick:()=>l({action:"delete"})},"จบการขาย"),r.a.createElement(h.a,{style:{margin:"16px 0"}})),r.a.createElement(y.a,{fullWidth:!0,name:"business_name",label:"ชื่อบริษัท",value:n.business_name,style:{marginBottom:16},variant:"outlined",size:"small",onChange:e=>o({...n,business_name:e.target.value})}),r.a.createElement(s.a,{variant:"h6"},"เงื่อนไขการขาย"),r.a.createElement(y.a,{fullWidth:!0,name:"sale_condition",value:n.sale_condition,style:{marginBottom:16,marginTop:16},variant:"outlined",multiline:!0,size:"small",rowsMax:"10",onChange:e=>o({...n,sale_condition:e.target.value})}),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},r.a.createElement(v.a,{component:"legend"},"ตำแหน่ง"),r.a.createElement(E.a,{name:"position",value:n.position,onChange:e=>{o({...n,position:parseInt(e.target.value)})}},a.position.map((e,t)=>r.a.createElement(x.a,{key:e,value:t,control:r.a.createElement(k.a,{color:"primary"}),label:e})))))),K=({editting:e,businessForm:t,form:a,setForm:o,album:l,setAlbum:c,albumDisplay:i,setAlbumDisplay:m})=>{T();const{_dateToString:u}=Object(n.useContext)(z.a),[d,p]=Object(n.useState)([]),[b,f]=Object(n.useState)("0"),[g,v]=Object(n.useState)("0");function E({value:e,type:a}){return("product"===a?t.product:t.productvalue)[parseInt(e)]}return Object(n.useEffect)(()=>{const e=[];a.product.forEach((t,n)=>{e.push({product:a.product[n],amount:a.productvalue[n]})}),p(e)},[]),r.a.createElement("div",null,r.a.createElement(s.a,{variant:"h6"},"วัสดุเหลือใช้ที่ต้องการจัดจำหน่าย"),r.a.createElement(s.a,null,"เลือกเฉพาะสินค้าที่ต้องการจำหน่าย กรณีพาเลทไม้เปลี่ยนจากหน่วย kg เป็น ตัว (pcs)"),d.map((e,t)=>r.a.createElement("div",{style:{display:"flex",alignItems:"center"},key:t},r.a.createElement(s.a,{variant:"body2",style:{flex:1}},e.product),r.a.createElement(s.a,{variant:"body2",style:{flex:1}},e.amount),r.a.createElement(C.a,{onClick:()=>function(e){const t=[...d];p(t.filter((t,a)=>a!==e)),o({...a,product:t.filter((t,a)=>a!==e).map(e=>e.product),productvalue:t.filter((t,a)=>a!==e).map(e=>e.amount)})}(t)},r.a.createElement(I.a,null)))),r.a.createElement("div",{style:{display:"flex",margin:"16px 0"}},r.a.createElement("div",{style:{flex:1}},r.a.createElement($,{label:"วัสดุ",value:b,onChange:e=>{f(e.target.value)},menuArr:t.product}),r.a.createElement("div",{style:{height:8}}),r.a.createElement($,{label:"ปริมาณ",value:g,onChange:e=>{v(e.target.value)},menuArr:t.productvalue})),r.a.createElement("div",{style:{width:8}}),r.a.createElement(F.default,{size:"large",variant:"contained",buttonColor:D.a,onClick:function(){const e=[...d];e.push({product:E({type:"product",value:b}),amount:E({type:"amount",value:g})}),p(e),o({...a,product:e.map(e=>e.product),productvalue:e.map(e=>e.amount)}),f("0"),v("0")},disabled:a.product.some(e=>e===E({type:"product",value:b}))&&a.productvalue.some(e=>e===E({type:"amount",value:g}))},"เพิ่ม")),r.a.createElement("div",{style:{marginTop:16,display:"flex"}},r.a.createElement(W,Object.assign({fullWidth:!0,label:"อัพโหลดอัลบัมสินค้า"},{album:l,setAlbum:c,albumDisplay:i,setAlbumDisplay:m})),l&&l.length>0&&l.length<=10&&r.a.createElement(F.default,{buttonColor:D.a,onClick:()=>{c(null),m(null)}},"รีเซ็ต")),l&&(l.length>10?r.a.createElement(s.a,{style:{color:A.a[600],marginTop:8},align:"center"},"ห้ามเกิน 10 รูป"):r.a.createElement(s.a,{style:{marginTop:8},align:"center"},"รูปทั้งหมด ",l.length)),i&&i.length<=10&&r.a.createElement(L,Object.assign({},{editting:e},{files:i})),r.a.createElement(h.a,null),r.a.createElement(y.a,{fullWidth:!0,name:"location",label:"สถานที่รับวัสดุเหลือใช้",value:a.location,style:{margin:"16px 0"},variant:"outlined",size:"small",onChange:e=>o({...a,location:e.target.value})}),r.a.createElement(P.a,{clearable:!0,fullWidth:!0,inputVariant:"outlined",label:"วันนัดดูสินค้า",clearLabel:"รีเซ็ต",okLabel:"ตกลง",cancelLabel:"ยกเลิก",value:a.appointment,minDateMessage:"",onChange:e=>o({...a,appointment:e}),labelFunc:()=>a.appointment?u(new Date(a.appointment)):"เลือกวันที่",style:{marginBottom:12}}),r.a.createElement(P.a,{clearable:!0,fullWidth:!0,inputVariant:"outlined",label:"วันเปิดประมูล",clearLabel:"รีเซ็ต",okLabel:"ตกลง",cancelLabel:"ยกเลิก",value:a.auctiondate,minDateMessage:"",onChange:e=>o({...a,auctiondate:e}),labelFunc:()=>a.auctiondate?u(new Date(a.auctiondate)):"เลือกวันที่",style:{marginBottom:12}}))},V=({businessForm:e,form:t,setForm:a})=>{const n=e=>{const n=[...t.transport],r=t.transport.some(e=>"etc"===e);e.target.checked?(n.push(e.target.value),a({...t,transport:n,...t.transport.some(e=>"etc"!==e)&&{transetc:""}})):a({...t,transport:n.filter(t=>t!==(r?"etc":e.target.value)),...t.transport.some(e=>"etc"!==e)&&{transetc:""}})},o=e=>{const n=[...t.document],r=t.document.some(e=>"etc"===e);e.target.checked?(n.push(e.target.value),a({...t,document:n,...t.document.some(e=>"etc"!==e)&&{docsetc:""}})):a({...t,document:n.filter(t=>t!==(r?"etc":e.target.value)),...t.document.some(e=>"etc"!==e)&&{docsetc:""}})};return r.a.createElement("div",null,e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},r.a.createElement(v.a,{component:"legend"},"รถที่ต้องการใช้ขนส่ง"),e.transport.map((e,a)=>r.a.createElement(x.a,{key:e,value:e,control:r.a.createElement(j.a,{checked:t.transport.some(t=>t===e),color:"primary",onChange:n}),label:e})),t.transport.some(e=>"etc"===e)?r.a.createElement("div",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center",marginLeft:-11,marginRight:16,verticalAlign:"middle"}},r.a.createElement(j.a,{checked:t.transport.some(e=>"etc"===e),color:"primary",onChange:n}),r.a.createElement(y.a,{fullWidth:!0,autoFocus:t.transport.some(e=>"etc"===e),name:"transetc",label:"อื่นๆ",size:"small",value:t.transetc,onChange:e=>a({...t,transetc:e.target.value})})):r.a.createElement(x.a,{value:"etc",control:r.a.createElement(j.a,{checked:t.transport.some(e=>"etc"===e),color:"primary",onChange:n}),label:"อื่นๆ"})),r.a.createElement(p.a,{component:"fieldset",style:{marginBottom:16},fullWidth:!0},r.a.createElement(v.a,{component:"legend"},"เอกสารที่ต้องการควบคู่กับการซื้อขายวัสดุเหลือใช้"),e.document.map((e,a)=>r.a.createElement(x.a,{key:e,value:e,control:r.a.createElement(j.a,{checked:t.document.some(t=>t===e),color:"primary",onChange:o}),label:e})),t.document.some(e=>"etc"===e)?r.a.createElement("div",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center",marginLeft:-11,marginRight:16,verticalAlign:"middle"}},r.a.createElement(j.a,{checked:t.document.some(e=>"etc"===e),color:"primary",onChange:o}),r.a.createElement(y.a,{fullWidth:!0,autoFocus:t.document.some(e=>"etc"===e),name:"docsetc",label:"อื่นๆ",size:"small",value:t.docsetc,onChange:e=>a({...t,docsetc:e.target.value})})):r.a.createElement(x.a,{value:"etc",control:r.a.createElement(j.a,{checked:t.document.some(e=>"etc"===e),color:"primary",onChange:o}),label:"อื่นๆ"}))))},X=({businessForm:e,form:t,setForm:a,setActiveStep:o,albumDisplay:l,checked:c,setChecked:i})=>{const{_dateToString:m}=Object(n.useContext)(z.a),[u,d]=Object(n.useState)(!1),p=()=>r.a.createElement("div",{style:{marginBottom:12}});return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(j.a,{color:"primary",checked:c,onChange:e=>i(e.target.checked),style:{marginRight:16}}),r.a.createElement(F.default,{style:{padding:0},buttonColor:D.a,variant:"text",onClick:()=>d(!0)},"ยอมรับเงื่อนไขและข้อตกลง")),l&&r.a.createElement(L,{files:l}),r.a.createElement(s.a,{variant:"h6",style:{flex:1}},"ชื่อบริษัท"),""===t.business_name?r.a.createElement(s.a,{gutterBottom:!0,style:{flex:1}},r.a.createElement(O.a,{style:{color:A.a[600]},onClick:()=>o(0)},"กรุณากรอกข้อมูล")):r.a.createElement(s.a,{gutterBottom:!0,style:{flex:1}},t.business_name),r.a.createElement(p,null),r.a.createElement(s.a,{variant:"h6",style:{flex:1}},"ตำแหน่ง"),r.a.createElement(s.a,{gutterBottom:!0,style:{flex:1}},e.position[t.position]),r.a.createElement(p,null),r.a.createElement(s.a,{variant:"h6",style:{flex:1}},"ขนาดองค์กร"),r.a.createElement(s.a,{gutterBottom:!0,style:{flex:1}},e.org_size[t.org_size]),r.a.createElement(p,null),r.a.createElement(s.a,{variant:"h6",style:{flex:1}},"วัสดุเหลือใช้ที่ต้องการจัดจำหน่าย"),t.product.length>0?t.product.map((e,a)=>r.a.createElement("div",{key:a,style:{display:"flex"}},r.a.createElement(s.a,{style:{flex:1}},e),r.a.createElement(s.a,{style:{flex:1}},t.productvalue[a]))):r.a.createElement(O.a,{style:{color:A.a[600]},onClick:()=>o(1)},"ไม่มีวัสดุ"),r.a.createElement(p,null),r.a.createElement(s.a,{variant:"h6",style:{flex:1}},"สถานที่รับวัสดุเหลือใช้"),""===t.location?r.a.createElement(s.a,{gutterBottom:!0,style:{flex:1}},r.a.createElement(O.a,{style:{color:A.a[600]},onClick:()=>o(1)},"กรุณากรอกข้อมูล")):r.a.createElement(s.a,{gutterBottom:!0,style:{flex:1}},t.location),r.a.createElement(p,null),r.a.createElement(s.a,{variant:"h6",style:{flex:1}},"วันนัดดูสินค้า"),r.a.createElement(s.a,{gutterBottom:!0,style:{flex:1}},m(t.appointment)),r.a.createElement(p,null),r.a.createElement(s.a,{variant:"h6",style:{flex:1}},"วันเปิดประมูล"),r.a.createElement(s.a,{gutterBottom:!0,style:{flex:1}},m(t.auctiondate)),r.a.createElement(p,null),r.a.createElement(s.a,{variant:"h6",style:{flex:1}},"รถที่ต้องการใช้ขนส่ง"),t.transport.length>0?t.transport.map(e=>r.a.createElement(s.a,{key:e,style:{flex:1}},"etc"===e?""===t.transetc?"อื่นๆ":t.transetc:e)):r.a.createElement(O.a,{style:{color:A.a[600]},onClick:()=>o(2)},"ไม่มีรถที่ใช้ขนส่ง"),r.a.createElement(p,null),r.a.createElement(s.a,{variant:"h6",style:{flex:1}},"เอกสารที่ต้องการควบคู่กับการซื้อขายวัสดุเหลือใช้"),t.document.length>0?t.document.map(e=>r.a.createElement(s.a,{key:e,style:{flex:1}},"etc"===e?""===t.docsetc?"อื่นๆ":t.docsetc:e)):r.a.createElement(O.a,{style:{color:A.a[600]},onClick:()=>o(2)},"ไม่มีเอกสาร"),r.a.createElement(p,null),r.a.createElement(s.a,{variant:"h6",style:{flex:1}},"เงื่อนไขการขาย"),""===t.sale_condition?r.a.createElement(s.a,{gutterBottom:!0,style:{flex:1}},r.a.createElement(O.a,{style:{color:A.a[600]},onClick:()=>o(0)},"กรุณากรอกข้อมูล")):r.a.createElement(s.a,{gutterBottom:!0,style:{flex:1,whiteSpace:"pre-line"}},t.sale_condition),r.a.createElement(p,null),r.a.createElement(N,{open:u,onClose:()=>d(!1),title:"เงื่อนไขและข้อตกลง"},e&&r.a.createElement(s.a,{style:{marginBottom:16,whiteSpace:"pre-line"}},e.form_condition[0])))},Y=r.a.memo(({history:e,match:t,editting:a})=>{const o=T(),{csrf:l,setCsrf:c,sess:s,addSnackbar:m,_xhrPost:u,_fetchFile:p,_fetchFileMultiple:b,profileData:f,_dateToAPI:g,getFormImg:h,useConfirmDeleteItem:y,realtimeAccess:v,realtimeEndOfSale:E}=Object(n.useContext)(z.a),[x,k]=Object(n.useState)("/business/create"===window.location.pathname),[C,j]=r.a.useState(0),[O,_]=Object(n.useState)({business_name:"",position:0,sale_condition:"",org_size:0,product:[],productvalue:[],appointment:new Date,auctiondate:new Date,location:"",document:[],docsetc:"",transport:[],transetc:""}),[S,I]=Object(n.useState)(null),[A,P]=Object(n.useState)(null),[L,W]=Object(n.useState)(!1),[{confirmState:N,item:q},$]=y(),[J,K]=Object(n.useState)(null),[V,X]=Object(n.useState)(null);async function Y(){const e=await u({csrf:l,url:"loadregister",body:{action:"business_form",type:"business"}});if(c(e.csrf),P(e.data),a&&t){const{formid:a}=t.params;a&&(async function(e,t){const a=await u({csrf:l,url:"loadform",body:{action:"detail",formid:e,linetoken:f.userId}});c(a.csrf),function(e,t){const{business_name:a,sale_condition:n,appointment:r,auctiondate:o,location:l,product:c,document:i,transport:s}=e,m={business_name:a,sale_condition:n,org_size:0,appointment:r,auctiondate:o,location:l};Object.assign(m,{position:"",product:[],productvalue:[],document:[],docsetc:"",transport:[],transetc:""}),-1!==t.position.indexOf(e.position)&&Object.assign(m,{position:t.position.indexOf(e.position)});c.length>0&&Object.assign(m,{product:c.map(e=>e.product),productvalue:c.map(e=>e.value)});i.document&&i.document.length>0&&Object.assign(m,{document:i.document});s.transport&&s.transport.length>0&&Object.assign(m,{transport:s.transport});"none"!==i.etc&&Object.assign(m,{docsetc:i.etc});"none"!==s.etc&&Object.assign(m,{transetc:s.etc});_(m)}(a.data,t),I(a.data)}(parseInt(a),e.data),async function(e){const t=await u({csrf:l,url:"loadform",body:{action:"album",formid:e,linetoken:f.userId}});c(t.csrf),t.data&&t.data.filelist.length>0&&X(t.data.filelist.map(t=>h({userid:s.userid,formid:e,file:t})))}(parseInt(a)))}}async function Z(t,a){const n=await b({url:"formsystem",csrf:a,headers:{action:"album",linetoken:f.userId,formid:t},body:{albumimage:J}});K(null),"success"===n.data.status&&m({message:"สร้างสำเร็จ",variant:"success"}),e.push("/business")}return Object(n.useEffect)(()=>{if(/localhost/.test(window.location.href)){P({form_condition:[],position:["ผู้จัดการ","จัดซื้อ-จัดจ้าง","บุคคล","หัวหน้าแผนก","เจ้าหน้าที่ SAFETY"],product:["ทองแดง","ทองเหลือง","อลูมิเนียม","สแตนเลส","เหล็ก","พลาสติก","กระดาษ","พาเลทไม้"],productvalue:["มากกว่า 5000 kg","น้ำหนัก 2001-5000 kg","น้ำหนัก 501-2000 kg","น้ำหนัก 201-500 kg","น้ำหนัก 51-200 kg","น้ำหนัก 1-50 kg"],org_size:["พนักงาน 1-5 คน","พนักงาน 6-20 คน","พนักงาน 21-40 คน","พนักงาน 41-100 คน","มากกว่า 100 คน"],document:["บิลเงินสด","ใบอนุญาตค้าของเก่า","ภพ.20","หนังสือรับรองบริษัท","ใบรง.4 ลำดับที่ 105 (คัดแยกขยะที่ไม่เป็นอันตราย)","ใบรง.ลำดับที่ 106 (กำจัดขยะประเภทอันตราย)"],transport:["รถกะบะ Pickup","รถบรรทุก 6 ล้อ","รถบรรทุกติดเฮี๊ยบ(มือขยุ้ม)","รถสไลด์(วางกะบะเหล็ก)","แม็คโครปากคีบ/แม็คโครแม่เหล็ก"]});const e={filelist:["545905.jpg","704014176bc1f285c0c627b4910b64ae.jpg","817623.jpg","87172689_589578534931043_4570709075486048256_o.jpg","thumb-1920-764519.jpg","uchiha sasuke naruto shippuden naruto uzumaki 2560x1600 wallpaper_www.wallpaperhi.com_5.jpg"]};let t;e&&e.filelist.length>0&&(t=e.filelist.map(e=>h({userid:8069118,formid:9259780,file:e}))),X(t)}else Y();a&&k(!0)},[]),r.a.createElement(w.a,{open:x,onClose:()=>k(!1),fullScreen:!0},r.a.createElement(R,null),r.a.createElement(G,Object.assign({},{businessForm:A,activeStep:C,setActiveStep:j,form:O,setForm:_,editting:a,goodsDetail:S,onEndSale:$,album:J,setAlbum:K,albumDisplay:V,setAlbumDisplay:X,checked:L,setChecked:W})),r.a.createElement("div",{className:o.buttonGroup},r.a.createElement(i.b,{to:"/business",style:{textDecoration:"none",flexGrow:1,margin:8}},r.a.createElement(d.a,{style:{width:"100%"},color:"primary",variant:"outlined"},"ยกเลิก")),a?r.a.createElement(F.default,{variant:"contained",buttonColor:D.a,style:{flexGrow:1.5,margin:8},onClick:async function(){const{business_name:a,sale_condition:n,position:r,appointment:o,auctiondate:i,location:s,document:m,transport:d,docsetc:p,transetc:b,product:h,productvalue:y}=O,{formid:E}=t.params,x={action:"edit",linetoken:f.userId,formid:parseInt(E),transport:d,document:m,product:h,productvalue:y,...""!==p&&{docsetc:p},...""!==b&&{transetc:b}};S.business_name!==a&&Object.assign(x,{business_name:a}),S.sale_condition!==n&&Object.assign(x,{sale_condition:n}),A.position.indexOf(S.position)!==parseInt(r)&&Object.assign(x,{position:A.position[r]}),g(S.appointment)!==g(o)&&Object.assign(x,{appointment:g(o)}),g(S.auctiondate)!==g(i)&&Object.assign(x,{auctiondate:g(i)}),S.location!==s&&Object.assign(x,{location:s});const k=await u({csrf:l,url:"formsystem",body:x});c(k.csrf),v(),J&&J.length<=5?Z(parseInt(E),k.csrf):e.push("/business")}},"บันทึก"):3===C&&r.a.createElement(F.default,{variant:"contained",buttonColor:D.a,style:{flexGrow:1.5,margin:8},onClick:async function(){const{business_name:t,position:a,sale_condition:n,org_size:r,product:o,productvalue:c,appointment:i,auctiondate:s,location:m,document:d,transport:p,docsetc:b,transetc:h}=O,y={action:"create",linetoken:f.userId,business_name:t,position:A.position[a],sale_condition:n,product:o,productvalue:c,appointment:g(i),auctiondate:g(s),location:m,transport:p,document:d,...""!==b&&{docsetc:b},...""!==h&&{transetc:h}},v=await u({csrf:l,url:"formsystem",body:y});"success"===v.data.status&&(J&&J.length<=5?Z(v.data.formid,v.csrf):e.push("/business"))},disabled:""===O.business_name||""===O.sale_condition||0===O.product.length||""===O.location||0===O.transport.length||0===O.document.length||!L},"สร้าง")),r.a.createElement(M,{open:N,onClose:()=>$({action:"cancel"}),onCancel:()=>$({action:"cancel"}),onSubmit:async function(){const{formid:a}=t.params,n=await u({csrf:l,url:"formsystem",body:{action:"endofsale",linetoken:f.userId,formid:parseInt(a)}});c(n.csrf),E(f),"success"===n.data.status&&m({message:"จบการขายสำเร็จ",variant:"success"}),e.push("/business")},title:"คุณแน่ใจหรือไม่ว่าต้องการจะจบการขายนี้ ?",submitText:"จบการขาย",headIcon:B.a}))});t.default=Y},534:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(123);t.a=Object(o.a)(r.a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel")},568:function(e,t,a){"use strict";var n=a(1),r=a(53),o=a(2),l=a(0),c=a.n(l),i=(a(3),a(7)),s=a(10),m=a(103),u=a(25),d=a(18),p=a(20),b=c.a.forwardRef((function(e,t){var a=e.classes,r=e.className,l=e.color,s=void 0===l?"primary":l,m=e.value,d=e.valueBuffer,b=e.variant,f=void 0===b?"indeterminate":b,g=Object(o.a)(e,["classes","className","color","value","valueBuffer","variant"]),h=Object(p.a)(),y={},v={bar1:{},bar2:{}};if("determinate"===f||"buffer"===f)if(void 0!==m){y["aria-valuenow"]=Math.round(m);var E=m-100;"rtl"===h.direction&&(E=-E),v.bar1.transform="translateX(".concat(E,"%)")}else 0;if("buffer"===f)if(void 0!==d){var x=(d||0)-100;"rtl"===h.direction&&(x=-x),v.bar2.transform="translateX(".concat(x,"%)")}else 0;return c.a.createElement("div",Object(n.a)({className:Object(i.a)(a.root,a["color".concat(Object(u.a)(s))],r,{determinate:a.determinate,indeterminate:a.indeterminate,buffer:a.buffer,query:a.query}[f]),role:"progressbar"},y,{ref:t},g),"buffer"===f?c.a.createElement("div",{className:Object(i.a)(a.dashed,a["dashedColor".concat(Object(u.a)(s))])}):null,c.a.createElement("div",{className:Object(i.a)(a.bar,a["barColor".concat(Object(u.a)(s))],("indeterminate"===f||"query"===f)&&a.bar1Indeterminate,{determinate:a.bar1Determinate,buffer:a.bar1Buffer}[f]),style:v.bar1}),"determinate"===f?null:c.a.createElement("div",{className:Object(i.a)(a.bar,("indeterminate"===f||"query"===f)&&a.bar2Indeterminate,"buffer"===f?[a["color".concat(Object(u.a)(s))],a.bar2Buffer]:a["barColor".concat(Object(u.a)(s))]),style:v.bar2}))})),f=Object(s.a)((function(e){var t=function(t){return"light"===e.palette.type?Object(d.i)(t,.62):Object(d.a)(t,.5)},a=t(e.palette.primary.main),n=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4},colorPrimary:{backgroundColor:a},colorSecondary:{backgroundColor:n},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(a," 0%, ").concat(a," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(n," 0%, ").concat(n," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0px -23px"},"50%":{opacity:0,backgroundPosition:"0px -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(b),g=c.a.forwardRef((function(e,t){var a=e.activeStep,l=void 0===a?0:a,s=e.backButton,d=e.classes,p=e.className,b=e.LinearProgressProps,g=e.nextButton,h=e.position,y=void 0===h?"bottom":h,v=e.steps,E=e.variant,x=void 0===E?"dots":E,k=Object(o.a)(e,["activeStep","backButton","classes","className","LinearProgressProps","nextButton","position","steps","variant"]);return c.a.createElement(m.a,Object(n.a)({square:!0,elevation:0,className:Object(i.a)(d.root,d["position".concat(Object(u.a)(y))],p),ref:t},k),s,"text"===x&&c.a.createElement(c.a.Fragment,null,l+1," / ",v),"dots"===x&&c.a.createElement("div",{className:d.dots},Object(r.a)(new Array(v)).map((function(e,t){return c.a.createElement("div",{key:t,className:Object(i.a)(d.dot,t===l&&d.dotActive)})}))),"progress"===x&&c.a.createElement(f,Object(n.a)({className:d.progress,variant:"determinate",value:Math.ceil(l/(v-1)*100)},b)),g)}));t.a=Object(s.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:e.palette.background.default,padding:8},positionBottom:{position:"fixed",bottom:0,left:0,right:0,zIndex:e.zIndex.mobileStepper},positionTop:{position:"fixed",top:0,left:0,right:0,zIndex:e.zIndex.mobileStepper},positionStatic:{},dots:{display:"flex",flexDirection:"row"},dot:{backgroundColor:e.palette.action.disabled,borderRadius:"50%",width:8,height:8,margin:"0 2px"},dotActive:{backgroundColor:e.palette.primary.main},progress:{width:"50%"}}}),{name:"MuiMobileStepper"})(g)}}]);