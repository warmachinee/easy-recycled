(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["MarketHistory"],{

/***/ "./src/page/Customer/MarketHistory.tsx":
/*!*********************************************!*\
  !*** ./src/page/Customer/MarketHistory.tsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/styles */ \"./node_modules/@material-ui/styles/esm/index.js\");\n/* harmony import */ var _AppContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../AppContext */ \"./src/AppContext.tsx\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/index.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n\r\n\r\n\r\n\r\n\r\nconst useStyles = Object(_material_ui_styles__WEBPACK_IMPORTED_MODULE_1__[\"makeStyles\"])(theme => ({}));\r\nconst MarketItem = props => {\r\n    const { _dateToString } = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_AppContext__WEBPACK_IMPORTED_MODULE_2__[\"AppContext\"]);\r\n    const { data, history, match } = props;\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"ListItem\"], { button: true, onClick: () => history.replace(`/market/${data.formid}?formid=${data.formid}`) },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"ListItemText\"], { primary: data.business_name, secondary: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", { style: { display: \"flex\" } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"Typography\"], { component: \"span\", variant: \"body2\", style: { width: 96 } }, \"\\u0E27\\u0E31\\u0E19\\u0E19\\u0E31\\u0E14\\u0E14\\u0E39\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"Typography\"], { component: \"span\", variant: \"body2\", style: { fontWeight: 600 } }, `${_dateToString(data.appointment)}`)),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", { style: { display: \"flex\" } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"Typography\"], { component: \"span\", variant: \"body2\", style: { width: 96 } }, \"\\u0E27\\u0E31\\u0E19\\u0E19\\u0E31\\u0E14\\u0E1B\\u0E23\\u0E30\\u0E21\\u0E39\\u0E25\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"Typography\"], { component: \"span\", variant: \"body2\", style: { fontWeight: 600 } }, `${_dateToString(data.auctiondate)}`))) })),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"Divider\"], null)));\r\n};\r\nconst MarketHistory = props => {\r\n    const classes = useStyles();\r\n    const { csrf, setCsrf, profileData, _xhrPost, _onLocalhostFn } = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_AppContext__WEBPACK_IMPORTED_MODULE_2__[\"AppContext\"]);\r\n    const [marketList, setMarketList] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null);\r\n    const [endOfSale, setEndOfSale] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(0);\r\n    const handleChange = (event) => {\r\n        setEndOfSale(event.target.value);\r\n    };\r\n    async function getAccess() {\r\n        const res = await _xhrPost({\r\n            csrf,\r\n            url: \"loadusersystem\",\r\n            body: {\r\n                action: \"accessformlist\",\r\n                linetoken: profileData.userId,\r\n                type: \"customer\"\r\n            }\r\n        });\r\n        console.log(res.data);\r\n        setCsrf(res.csrf);\r\n        setMarketList(res.data);\r\n    }\r\n    Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\r\n        _onLocalhostFn(() => {\r\n            setMarketList([\r\n                {\r\n                    formid: 2315022,\r\n                    business_name: \"PDS\",\r\n                    appointment: \"2020-03-30T17:00:00.000Z\",\r\n                    auctiondate: \"2020-04-22T17:00:00.000Z\",\r\n                    endofsale: 0\r\n                },\r\n                {\r\n                    formid: 3014238,\r\n                    business_name: \"KLxHunter\",\r\n                    appointment: \"2020-03-25T17:00:00.000Z\",\r\n                    auctiondate: \"2020-03-25T17:00:00.000Z\",\r\n                    endofsale: 0\r\n                }\r\n            ]);\r\n        }, () => {\r\n            if (profileData) {\r\n                getAccess();\r\n            }\r\n        });\r\n    }, [profileData]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"FormControl\"], { style: { padding: 16 } },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"Select\"], { value: endOfSale, onChange: handleChange, variant: \"outlined\" },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { value: 0 }, \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E02\\u0E32\\u0E22\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { value: 1 }, \"\\u0E08\\u0E1A\\u0E01\\u0E32\\u0E23\\u0E02\\u0E32\\u0E22\\u0E41\\u0E25\\u0E49\\u0E27\"))),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"List\"], null, marketList && marketList.length > 0 ? (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"Divider\"], null),\r\n            marketList\r\n                .filter((item) => item.endofsale === endOfSale)\r\n                .map((d) => (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MarketItem, Object.assign({ key: d.formid, data: d }, props)))))) : (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"Typography\"], { variant: \"h6\", style: { margin: \"24px 0\" }, align: \"center\" }, \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\")))));\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__[\"withRouter\"])(props => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MarketHistory, Object.assign({}, props))));\r\n\n\n//# sourceURL=webpack:///./src/page/Customer/MarketHistory.tsx?");

/***/ })

}]);